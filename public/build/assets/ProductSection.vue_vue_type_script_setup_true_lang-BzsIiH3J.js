import{e as a,I as q,d as T,c as F,a as f,o as d,u as l,ax as I,n as L,W as P,p as b,y as K,ab as G,r as z,b as s,w as n,g as w,au as C,P as V,ay as J,az as Q,F as H,v as R,aA as X,t as _,f as D,q as $,av as Y,i as U,aw as Z,aB as ee,s as A,aC as te}from"./app-BUutnY_0.js";import{_ as ae}from"./useFlashMessages-CSRU_sgK.js";import{F as E}from"./FilterOutlined-Bivj6mOv.js";import{_ as se}from"./LoginModal.vue_vue_type_script_setup_true_lang-dYIec9dt.js";import{S as le}from"./ShoppingCartOutlined-VCUPh9aF.js";import{H as re}from"./UserLayout.vue_vue_type_script_setup_true_lang-CjYK4sh1.js";var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function N(g){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},p=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),p.forEach(function(i){ne(g,i,r[i])})}return g}function ne(g,e,r){return e in g?Object.defineProperty(g,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):g[e]=r,g}var j=function(e,r){var p=N({},e,r.attrs);return a(q,N({},p,{icon:oe}),null)};j.displayName="ClearOutlined";j.inheritAttrs=!1;const ie={class:"text-center mt-8 sm:mt-12"},ce=T({__name:"PaginationComponent",props:{paginationData:{}},setup(g){const e=g,r=F(()=>{var i,h,m,v,k,x;return{current_page:((i=e.paginationData)==null?void 0:i.current_page)||1,last_page:((h=e.paginationData)==null?void 0:h.last_page)||1,total:((m=e.paginationData)==null?void 0:m.total)||0,per_page:((v=e.paginationData)==null?void 0:v.per_page)||5,from:((k=e.paginationData)==null?void 0:k.from)||1,to:((x=e.paginationData)==null?void 0:x.to)||0}}),p=i=>{console.log("Navigating to page:",i);const h=L().url,m=new URL(h,window.location.origin);m.searchParams.set("page",i.toString()),P.visit(m.pathname+m.search,{preserveState:!1,preserveScroll:!0})};return(i,h)=>(d(),f("div",ie,[a(l(I),{current:r.value.current_page,total:r.value.total,"page-size":r.value.per_page,"show-total":(m,v)=>`${v[0]}-${v[1]} of ${m} items`,onChange:p,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),ue=ae(ce,[["__scopeId","data-v-56e6d364"]]),de={class:"flex item-center"},pe={class:"flex items-end gap-2 my-4"},me={class:""},ve={class:""},ge={class:""},fe=["onClick"],he={class:"mb-0"},_e=T({__name:"FilterProduct",props:{categories:{},selectedCategory:{}},setup(g){const e=g,r=b(!1),p=()=>{r.value=!0},i=()=>{r.value=!1},h=b(["1"]),m=b(null),v=b(null),k=S=>{P.get(route("all.products"),{category:S,min_price:m.value,max_price:v.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},x=()=>{P.get(route("all.products"),{category:e.selectedCategory,min_price:m.value,max_price:v.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},B=b(500),y=()=>{B.value=window.innerWidth<=576?280:380};return K(()=>{y(),window.addEventListener("resize",y)}),G(()=>{window.removeEventListener("resize",y)}),(S,c)=>{const O=z("a-input"),t=z("a-drawer");return d(),f("div",null,[s("div",de,[a(l(C),{type:"text",class:"flex items-center",size:"large",onClick:p},{default:n(()=>[a(l(E)),c[3]||(c[3]=w("Filter "))]),_:1}),a(l(C),{size:"large",type:"text"},{default:n(()=>[a(l(V),{href:S.route("all.products"),class:"flex items-center"},{default:n(()=>[a(l(j)),c[4]||(c[4]=w("Clear Filters "))]),_:1},8,["href"])]),_:1})]),a(t,{title:"Filter Products",placement:"left",open:r.value,onClose:i,width:B.value},{default:n(()=>[s("div",null,[s("div",null,[s("div",pe,[s("div",me,[c[5]||(c[5]=s("label",{class:"block text-xs mb-1"},"Min Price",-1)),a(O,{type:"number",placeholder:"Min price",min:"0",value:m.value,"onUpdate:value":c[0]||(c[0]=o=>m.value=o)},null,8,["value"])]),s("div",ve,[c[6]||(c[6]=s("label",{class:"block text-xs mb-1"},"Max Price",-1)),a(O,{type:"number",placeholder:"Max price",min:"0",value:v.value,"onUpdate:value":c[1]||(c[1]=o=>v.value=o)},null,8,["value"])]),s("div",ge,[a(l(C),{type:"dashed",onClick:x},{default:n(()=>[a(l(E)),c[7]||(c[7]=w(" Filter "))]),_:1})])])]),a(l(J),{activeKey:h.value,"onUpdate:activeKey":c[2]||(c[2]=o=>h.value=o),bordered:!1},{default:n(()=>[a(l(Q),{key:"1",header:"Filter by Category"},{default:n(()=>[(d(!0),f(H,null,R(e.categories,o=>(d(),f("div",{key:o.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:M=>k(o.slug)},[a(l(X),{checked:e.selectedCategory===o.slug},{default:n(()=>[w(_(o.name),1)]),_:2},1032,["checked"]),s("p",he,_(o.product_count)+" Products ",1)],8,fe))),128))]),_:1})]),_:1},8,["activeKey"])])]),_:1},8,["open","width"])])}}}),xe={class:"container mx-auto"},ye={class:"container mx-auto px-2 sm:px-4"},be={class:"text-center mb-8 sm:mb-12"},we={key:0,class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},Ce={key:1,class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},ke={key:0},Pe={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},Se=["src","alt"],$e={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},Fe={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},Be={class:"flex justify-between items-center"},Oe={class:"flex flex-wrap"},De={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},ze={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},Ve={key:1,class:"text-center mt-8 sm:mt-12"},He={key:1},Ee=T({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showFilter:{type:Boolean},showPagination:{type:Boolean},categories:{},selectedCategory:{},showTitle:{type:Boolean},showSubTitle:{type:Boolean},sectionClass:{}},setup(g){const e=g,r=L(),p=F(()=>{var t;return((t=r.props.translations)==null?void 0:t.products)||{}}),i=F(()=>{var t;return((t=r.props.products)==null?void 0:t.data)||[]}),h=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(t),m=t=>{P.visit(route("product.detail",{slug:t}))},v=b(new Set),k=t=>{v.value.add(t.id),P.post(route("cart.add"),{id:t.id,qty:1},{preserveScroll:!0,onSuccess:()=>{v.value.delete(t.id)},onError:o=>{v.value.delete(t.id),console.error("Failed to add to cart",o)}})},x=b(!1),B=F(()=>{var t;return(t=r.props.auth)==null?void 0:t.user}),y=b(new Set),S=t=>{B.value?(y.value.add(t),P.post(route("wishlist.add"),{product_id:t},{preserveScroll:!0,onSuccess:()=>{y.value.delete(t)},onError:()=>{y.value.delete(t)}})):x.value=!0},c=F(()=>r.props.wishlist||[]),O=t=>c.value.includes(t);return(t,o)=>{const M=z("a-result");return d(),f(H,null,[s("section",null,[s("div",xe,[e.showFilter===!0?(d(),D(_e,{key:0,categories:e.categories,selectedCategory:e.selectedCategory,translations:p.value},null,8,["categories","selectedCategory","translations"])):$("",!0)])]),s("section",{class:U(["",e.sectionClass])},[s("div",ye,[s("div",be,[e.showTitle!==!1?(d(),f("h2",we,_(e.title||p.value.title||"Product List"),1)):$("",!0),e.showSubTitle!==!1?(d(),f("p",Ce,_(e.subtitle||p.value.subtitle||"Explore our wide range of high-quality products tailored to your needs."),1)):$("",!0)]),i.value.length>0?(d(),f("div",ke,[a(l(Y),{gutter:[16,16]},{default:n(()=>[(d(!0),f(H,null,R(i.value,u=>(d(),D(l(Z),{xs:12,sm:12,md:8,lg:8,xl:6,key:u.id,class:"mb-6"},{default:n(()=>[a(l(ee),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:W=>m(u.slug)},{cover:n(()=>[s("div",Pe,[u.thumnail_img?(d(),f("img",{key:0,src:"/storage/"+u.thumnail_img,alt:u.name,class:"w-full h-full object-cover"},null,8,Se)):(d(),D(l(te).Image,{key:1,class:"w-full h-full"})),s("div",$e,_(u.category_name),1),a(l(C),{onClick:A(W=>S(u.id),["stop"]),shape:"circle",size:"small",loading:y.value.has(u.id),class:U(["flex items-center justify-center !w-7 !h-7 absolute top-7 right-1",O(u.id)?"!bg-red-500 !text-white !border-red-500 hover:!bg-red-600":"!bg-white !text-black !border-gray-300 hover:!bg-red-500 hover:!text-white hover:!border-red-500"]),"aria-label":"Toggle favorite"},{icon:n(()=>[a(l(re))]),_:2},1032,["onClick","loading","class"])])]),default:n(()=>[s("div",null,[s("h3",Fe,_(u.name),1),s("div",Be,[s("div",Oe,[s("span",De,_(h(u.final_price)),1),s("span",ze,_(h(u.sale_price)),1)])]),a(l(C),{type:"primary",class:"btn-primary flex items-center justify-center mt-2",loading:v.value.has(u.id),onClick:A(W=>k(u),["stop"]),"aria-label":"Add to cart"},{icon:n(()=>[a(l(le))]),default:n(()=>[w(" "+_(p.value.add_to_cart||"Add to Cart"),1)]),_:2},1032,["loading","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e.showPagination!==!1?(d(),D(ue,{key:0,"pagination-data":l(r).props.products,"route-name":"all.products"},null,8,["pagination-data"])):$("",!0),e.showAllProductsButton===!0?(d(),f("div",Ve,[a(l(C),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:n(()=>[a(l(V),{href:t.route("all.products")},{default:n(()=>[w(_(p.value.all_products||"All Products"),1),o[1]||(o[1]=s("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):$("",!0)])):(d(),f("div",He,[a(M,{status:"404",title:"404","sub-title":"We couldnâ€™t find any products matching your search."},{extra:n(()=>[a(l(C),{class:"btn-primary",size:"large",type:"primary"},{default:n(()=>[a(l(V),{href:t.route("all.products")},{default:n(()=>o[2]||(o[2]=[w(" Continue Shopping ")])),_:1},8,["href"])]),_:1})]),_:1})]))])],2),a(se,{open:x.value,"onUpdate:open":o[0]||(o[0]=u=>x.value=u),canResetPassword:!1},null,8,["open"])],64)}}});export{Ee as _};
