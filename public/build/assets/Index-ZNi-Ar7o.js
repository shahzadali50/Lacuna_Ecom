import{A as me}from"./AdminLayout-DlKQG8DF.js";import{d as le,p as U,C as oe,x as J,c as A,r as y,a as c,o as d,F as P,q as _,e as a,w as n,b as s,t as l,u as e,g as k,v as ae,s as ie,f as de,n as ve,m as be,P as ge,l as fe,M as he}from"./app-C3cv932K.js";import{_ as ye}from"./Button.vue_vue_type_script_setup_true_lang-rfk3fbwv.js";import{L as ke}from"./loader-circle-D_1JeGfA.js";import"./useFlashMessages-b8Ba9dgn.js";import"./ShoppingOutlined-C7pNBmAl.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CeFgjxFS.js";import"./FilterOutlined-xajPvmqd.js";import"./createLucideIcon-Ql6t7ncz.js";const we={key:0,class:"loading-overlay"},$e={class:"mb-4"},Pe={class:"block"},Ce={key:0,class:"text-red-500"},Ie={class:"mb-4"},xe={class:"block"},Ue={key:0,class:"text-red-500"},Se={class:"mb-4"},Ee={class:"block"},Ve={key:0,class:"text-red-500"},Le={class:"mb-4"},je={class:"block"},Ae={key:0,class:"text-red-500"},De={class:"mb-4"},Be={class:"block"},Fe={key:0,class:"text-red-500"},Ne={class:"mb-4"},Oe={class:"block"},Re={key:0,class:"text-red-500"},Te={class:"mb-4"},Ge={class:"block"},Me={key:0,class:"text-red-500"},ze={class:"mb-4"},Ye={class:"block"},qe={key:0,class:"text-red-500"},Je={class:"mb-4"},Ke={class:"block"},He={key:0,class:"text-red-500"},Qe={class:"mb-4"},We={class:"block"},Xe={key:0,class:"text-red-500"},Ze={key:1,class:"mt-2"},et={class:"text-sm text-gray-600 mb-1"},tt=["src"],st={class:"mb-4"},at={class:"block"},lt={key:0,class:"text-red-500"},ot={key:1,class:"mt-2"},rt={class:"text-sm text-gray-600 mb-1"},nt={class:"flex flex-wrap gap-2"},it=["src"],dt=["onClick"],ct={class:"mb-4"},ut={class:"flex items-center"},pt={key:0,class:"text-red-500"},_t={class:"mb-4"},mt={class:"block"},vt={key:0,class:"text-red-500"},bt={class:"mb-4"},gt={class:"block"},ft={class:"text-right"},ht=le({__name:"AddProduct",props:{isVisible:{type:Boolean},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(K,{emit:D}){const m=K,S=D,E=U(!1),I=U(null),v=U([]),o=oe({name:"",description:"",brand_id:null,category_id:null,thumnail_img:null,gallary_img:[],stock:0,status:"active",purchase_price:null,sale_price:null,feature:!1,barcode:"",discount:0,final_price:0});J(()=>o.category_id,()=>{o.brand_id=null});const t=A(()=>{var p;return((p=m.brands)==null?void 0:p.filter(u=>u.category_id===o.category_id).map(u=>({value:u.id,label:u.name})))||[]}),H=A(()=>{var p;return((p=m.categories)==null?void 0:p.map(u=>({value:u.id,label:u.name})))||[]}),O=(p,u)=>u.label.toLowerCase().includes(p.toLowerCase()),w=p=>{const u=p.target;u.files&&u.files[0]&&(o.thumnail_img=u.files[0],I.value=URL.createObjectURL(u.files[0]))},$=p=>{const u=p.target;if(u.files){const V=Array.from(u.files);o.gallary_img=[...o.gallary_img,...V];const h=V.map(g=>URL.createObjectURL(g));v.value=[...v.value,...h]}},T=(p,u)=>{u.preventDefault(),u.stopPropagation(),o.gallary_img.splice(p,1),v.value.splice(p,1)},L=A(()=>{if(o.sale_price&&o.discount){const p=o.sale_price*o.discount/100;return o.sale_price-p}return o.sale_price});J([()=>o.sale_price,()=>o.discount],()=>{o.final_price=L.value});const B=()=>{E.value=!0,o.post(route("admin.product.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.reset(),S("update:isVisible",!1),S("success"),I.value=null,v.value=[]},onFinish:()=>{E.value=!1}})};return(p,u)=>{const V=y("a-spin"),h=y("a-select"),g=y("a-col"),x=y("a-row"),F=y("a-input"),j=y("a-input-number"),G=y("a-select-option"),Q=y("a-textarea"),W=y("a-checkbox"),M=y("a-button"),X=y("a-modal");return d(),c(P,null,[E.value?(d(),c("div",we,[a(V,{size:"large"})])):_("",!0),a(X,{width:"1000px",open:p.isVisible,title:p.translations.add_product||"Add Product","onUpdate:open":u[13]||(u[13]=f=>p.$emit("update:isVisible",f)),onCancel:u[14]||(u[14]=f=>p.$emit("update:isVisible",!1)),footer:null},{default:n(()=>[s("form",{onSubmit:ie(B,["prevent"])},[a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",$e,[s("label",Pe,l(p.translations.select_category||"Select Category"),1),a(h,{value:e(o).category_id,"onUpdate:value":u[0]||(u[0]=f=>e(o).category_id=f),"show-search":"",placeholder:p.translations.select_category||"Select Category",class:"mt-2 w-full",options:H.value,"filter-option":O},null,8,["value","placeholder","options"]),e(o).errors.category_id?(d(),c("div",Ce,l(e(o).errors.category_id),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Ie,[s("label",xe,l(p.translations.select_brand||"Select Brand"),1),a(h,{value:e(o).brand_id,"onUpdate:value":u[1]||(u[1]=f=>e(o).brand_id=f),"show-search":"",placeholder:p.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:t.value,"filter-option":O,disabled:!e(o).category_id},null,8,["value","placeholder","options","disabled"]),e(o).errors.brand_id?(d(),c("div",Ue,l(e(o).errors.brand_id),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",Se,[s("label",Ee,l(p.translations.enter_product_name||"Enter Product Name"),1),a(F,{value:e(o).name,"onUpdate:value":u[2]||(u[2]=f=>e(o).name=f),class:"mt-2 w-full",placeholder:p.translations.enter_product_name||"Enter Product Name"},null,8,["value","placeholder"]),e(o).errors.name?(d(),c("div",Ve,l(e(o).errors.name),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Le,[s("label",je,l(p.translations.enter_barcode||"Enter Barcode"),1),a(F,{value:e(o).barcode,"onUpdate:value":u[3]||(u[3]=f=>e(o).barcode=f),class:"mt-2 w-full",placeholder:p.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),e(o).errors.barcode?(d(),c("div",Ae,l(e(o).errors.barcode),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",De,[s("label",Be,l(p.translations.enter_purchase_price||"Enter Purchase Price"),1),a(j,{value:e(o).purchase_price,"onUpdate:value":u[4]||(u[4]=f=>e(o).purchase_price=f),class:"mt-2 w-full",min:0,step:.01,placeholder:p.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),e(o).errors.purchase_price?(d(),c("div",Fe,l(e(o).errors.purchase_price),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Ne,[s("label",Oe,l(p.translations.enter_sale_price||"Sale Price"),1),a(j,{value:e(o).sale_price,"onUpdate:value":u[5]||(u[5]=f=>e(o).sale_price=f),class:"mt-2 w-full",min:0,step:.01,placeholder:p.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),e(o).errors.sale_price?(d(),c("div",Re,l(e(o).errors.sale_price),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",Te,[s("label",Ge,l(p.translations.stock||"Stock"),1),a(j,{value:e(o).stock,"onUpdate:value":u[6]||(u[6]=f=>e(o).stock=f),class:"mt-2 w-full",min:0,placeholder:p.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),e(o).errors.stock?(d(),c("div",Me,l(e(o).errors.stock),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",ze,[s("label",Ye,l(p.translations.select_status||"Select Status"),1),a(h,{value:e(o).status,"onUpdate:value":u[7]||(u[7]=f=>e(o).status=f),class:"mt-2 w-full",placeholder:p.translations.select_status||"Select Status"},{default:n(()=>[a(G,{value:"active"},{default:n(()=>[k(l(p.translations.active||"Active"),1)]),_:1}),a(G,{value:"inactive"},{default:n(()=>[k(l(p.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),e(o).errors.status?(d(),c("div",qe,l(e(o).errors.status),1)):_("",!0)])]),_:1})]),_:1}),s("div",Je,[s("label",Ke,l(p.translations.enter_description||"Enter Description"),1),a(Q,{value:e(o).description,"onUpdate:value":u[8]||(u[8]=f=>e(o).description=f),class:"mt-2 w-full",placeholder:p.translations.enter_description||"Enter Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),e(o).errors.description?(d(),c("div",He,l(e(o).errors.description),1)):_("",!0)]),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",Qe,[s("label",We,l(p.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:w,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(o).errors.thumnail_img?(d(),c("div",Xe,l(e(o).errors.thumnail_img),1)):_("",!0),I.value?(d(),c("div",Ze,[s("p",et,l(p.translations.preview||"Preview"),1),s("img",{src:I.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,tt)])):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",st,[s("label",at,l(p.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:$,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(o).errors.gallary_img?(d(),c("div",lt,l(e(o).errors.gallary_img),1)):_("",!0),v.value.length?(d(),c("div",ot,[s("p",rt,l(p.translations.preview||"Preview"),1),s("div",nt,[(d(!0),c(P,null,ae(v.value,(f,z)=>(d(),c("div",{key:z,class:"relative"},[s("img",{src:f,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,it),s("button",{onClick:Z=>T(z,Z),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},u[15]||(u[15]=[s("i",{class:"fa fa-times"},null,-1)]),8,dt)]))),128))])])):_("",!0)])]),_:1})]),_:1}),s("div",ct,[s("label",ut,[a(W,{checked:e(o).feature,"onUpdate:checked":u[9]||(u[9]=f=>e(o).feature=f)},{default:n(()=>[k(l(p.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),e(o).errors.feature?(d(),c("div",pt,l(e(o).errors.feature),1)):_("",!0)]),a(x,{gutter:16},{default:n(()=>[a(g,{xs:24,md:12},{default:n(()=>[s("div",_t,[s("label",mt,l(p.translations.enter_discount||"Enter Discount"),1),a(j,{value:e(o).discount,"onUpdate:value":u[10]||(u[10]=f=>e(o).discount=f),class:"mt-2 w-full",min:0,max:100,step:1},null,8,["value"]),e(o).errors.discount?(d(),c("div",vt,l(e(o).errors.discount),1)):_("",!0)])]),_:1}),a(g,{xs:24,md:12},{default:n(()=>[s("div",bt,[s("label",gt,l(p.translations.final_price||"Final Price"),1),a(j,{value:e(o).final_price,"onUpdate:value":u[11]||(u[11]=f=>e(o).final_price=f),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"])])]),_:1})]),_:1}),s("div",ft,[a(M,{type:"default",onClick:u[12]||(u[12]=f=>p.$emit("update:isVisible",!1))},{default:n(()=>[k(l(p.translations.cancel||"Cancel"),1)]),_:1}),a(M,{type:"primary","html-type":"submit",class:"ml-2"},{default:n(()=>[k(l(p.translations.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"])],64)}}}),yt={key:0,class:"loading-overlay"},kt={class:"mb-4"},wt={class:"block"},$t={key:0,class:"text-red-500"},Pt={class:"mb-4"},Ct={class:"block"},It={key:0,class:"text-red-500"},xt={class:"mb-4"},Ut={class:"block"},St={key:0,class:"text-red-500"},Et={class:"mb-4"},Vt={class:"block"},Lt={key:0,class:"text-red-500"},jt={class:"mb-4"},At={class:"block"},Dt={key:0,class:"text-red-500"},Bt={class:"mb-4"},Ft={class:"block"},Nt={key:0,class:"text-red-500"},Ot={class:"mb-4"},Rt={class:"block"},Tt={key:0,class:"text-red-500"},Gt={class:"mb-4"},Mt={class:"block"},zt={key:0,class:"text-red-500"},Yt={class:"mb-4"},qt={class:"block"},Jt={key:0,class:"text-red-500"},Kt={class:"mb-4"},Ht={class:"block"},Qt={key:0,class:"text-red-500"},Wt={class:"mb-4"},Xt={class:"block"},Zt={key:0,class:"text-red-500"},es={class:"mb-4"},ts={class:"block"},ss={key:0,class:"text-red-500"},as={key:1,class:"mt-2"},ls={class:"text-sm text-gray-600 mb-1"},os=["src"],rs={key:2,class:"mt-2"},ns={class:"text-sm text-gray-600 mb-1"},is=["src"],ds={class:"mb-4"},cs={class:"block"},us={key:0,class:"text-red-500"},ps={key:1,class:"mt-2"},_s={class:"text-sm text-gray-600 mb-1"},ms={class:"flex flex-wrap gap-2"},vs=["src"],bs=["onClick"],gs={key:2,class:"mt-2"},fs={class:"text-sm text-gray-600 mb-1"},hs={class:"flex flex-wrap gap-2"},ys=["src"],ks=["onClick"],ws={class:"mb-4"},$s={class:"flex items-center"},Ps={key:0,class:"text-red-500"},Cs={class:"text-right"},Is=le({__name:"EditProduct",props:{isVisible:{type:Boolean},product:{},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(K,{emit:D}){var V,h,g,x,F,j,G,Q,W,M,X,f,z,Z,re;const m=K,S=D,E=U(!1),I=U(null),v=U([]),o=U([]),t=oe({id:((V=m.product)==null?void 0:V.id)||0,name:((h=m.product)==null?void 0:h.name)||"",description:((g=m.product)==null?void 0:g.description)||"",brand_id:((x=m.product)==null?void 0:x.brand_id)||null,category_id:((F=m.product)==null?void 0:F.category_id)||null,thumnail_img:null,gallary_img:[],existing_gallary_img:[],stock:((j=m.product)==null?void 0:j.stock)||0,status:((G=m.product)==null?void 0:G.status)||"active",purchase_price:((Q=m.product)==null?void 0:Q.purchase_price)||0,sale_price:((W=m.product)==null?void 0:W.sale_price)||0,feature:((M=m.product)==null?void 0:M.feature)||!1,barcode:((X=m.product)==null?void 0:X.barcode)||"",discount:((f=m.product)==null?void 0:f.discount)||0,final_price:((z=m.product)==null?void 0:z.final_price)||((Z=m.product)==null?void 0:Z.sale_price)||0});if((re=m.product)!=null&&re.gallary_img)try{const r=JSON.parse(m.product.gallary_img);o.value=r,t.existing_gallary_img=r}catch(r){console.error("Error parsing gallery images:",r),o.value=[],t.existing_gallary_img=[]}J(()=>m.isVisible,r=>{if(r&&m.product&&(t.reset(),t.id=m.product.id,t.name=m.product.name,t.description=m.product.description,t.brand_id=m.product.brand_id,t.category_id=m.product.category_id,t.stock=m.product.stock,t.status=m.product.status,t.purchase_price=m.product.purchase_price,t.sale_price=m.product.sale_price,t.feature=m.product.feature,t.barcode=m.product.barcode,t.discount=m.product.discount,t.final_price=m.product.final_price||m.product.sale_price,I.value=null,v.value=[],m.product.gallary_img))try{const i=JSON.parse(m.product.gallary_img);o.value=i,t.existing_gallary_img=i}catch(i){console.error("Error parsing gallery images:",i),o.value=[],t.existing_gallary_img=[]}},{immediate:!0}),J(()=>t.category_id,()=>{const r=m.brands.data.filter(i=>i.category_id===t.category_id);t.brand_id=r.length>0?r[0].id:null});const O=A(()=>{var r;return((r=m.brands.data)==null?void 0:r.filter(i=>i.category_id===t.category_id).map(i=>({value:i.id,label:i.name})))||[]}),w=A(()=>{var r;return((r=m.categories.data)==null?void 0:r.map(i=>({value:i.id,label:i.name})))||[]}),$=(r,i)=>i.label.toLowerCase().includes(r.toLowerCase()),T=r=>{const i=r.target;i.files&&i.files[0]&&(t.thumnail_img=i.files[0],I.value=URL.createObjectURL(i.files[0]))},L=r=>{const i=r.target;if(i.files){const N=Array.from(i.files);t.gallary_img=[...t.gallary_img,...N];const ee=N.map(C=>URL.createObjectURL(C));v.value=[...v.value,...ee]}},B=(r,i)=>{if(i.preventDefault(),i.stopPropagation(),r<o.value.length)o.value.splice(r,1),t.existing_gallary_img=[...o.value];else{const N=r-o.value.length;t.gallary_img.splice(N,1),v.value.splice(N,1)}},p=A(()=>{if(t.sale_price&&t.discount){const r=t.sale_price*t.discount/100;return t.sale_price-r}return t.sale_price||0});J([()=>t.sale_price,()=>t.discount],()=>{t.final_price=p.value});const u=()=>{E.value=!0,t.post(route("admin.product.update",{id:t.id}),{onSuccess:()=>{S("update:isVisible",!1),S("success"),I.value=null,v.value=[]},onFinish:()=>{E.value=!1}})};return(r,i)=>{const N=y("a-spin"),ee=y("a-input"),C=y("a-col"),R=y("a-row"),te=y("a-select"),Y=y("a-input-number"),ne=y("a-select-option"),ce=y("a-textarea"),ue=y("a-checkbox"),pe=y("a-button"),_e=y("a-modal");return d(),c(P,null,[E.value?(d(),c("div",yt,[a(N,{size:"large"})])):_("",!0),a(_e,{width:"1000px",style:{top:"20px"},open:r.isVisible,title:r.translations.edit_product||"Edit Product","onUpdate:open":i[13]||(i[13]=b=>r.$emit("update:isVisible",b)),onCancel:i[14]||(i[14]=b=>r.$emit("update:isVisible",!1)),footer:null},{default:n(()=>[s("form",{onSubmit:ie(u,["prevent"]),enctype:"multipart/form-data"},[a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",kt,[s("label",wt,l(r.translations.name||"Name"),1),a(ee,{value:e(t).name,"onUpdate:value":i[0]||(i[0]=b=>e(t).name=b),class:"mt-2 w-full",placeholder:r.translations.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),e(t).errors.name?(d(),c("div",$t,l(e(t).errors.name),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Pt,[s("label",Ct,l(r.translations.barcode||"Barcode"),1),a(ee,{value:e(t).barcode,"onUpdate:value":i[1]||(i[1]=b=>e(t).barcode=b),class:"mt-2 w-full",placeholder:r.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),e(t).errors.barcode?(d(),c("div",It,l(e(t).errors.barcode),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",xt,[s("label",Ut,l(r.translations.category||"Category"),1),a(te,{value:e(t).category_id,"onUpdate:value":i[2]||(i[2]=b=>e(t).category_id=b),"show-search":"",placeholder:r.translations.select_category||"Select Category",class:"mt-2 w-full",options:w.value,"filter-option":$},null,8,["value","placeholder","options"]),e(t).errors.category_id?(d(),c("div",St,l(e(t).errors.category_id),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Et,[s("label",Vt,l(r.translations.brand||"Brand"),1),a(te,{value:e(t).brand_id,"onUpdate:value":i[3]||(i[3]=b=>e(t).brand_id=b),"show-search":"",placeholder:r.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:O.value,"filter-option":$,disabled:!e(t).category_id},null,8,["value","placeholder","options","disabled"]),e(t).errors.brand_id?(d(),c("div",Lt,l(e(t).errors.brand_id),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",jt,[s("label",At,l(r.translations.purchase_price||"Purchase Price"),1),a(Y,{value:e(t).purchase_price,"onUpdate:value":i[4]||(i[4]=b=>e(t).purchase_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:r.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),e(t).errors.purchase_price?(d(),c("div",Dt,l(e(t).errors.purchase_price),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Bt,[s("label",Ft,l(r.translations.sale_price||"Sale Price"),1),a(Y,{value:e(t).sale_price,"onUpdate:value":i[5]||(i[5]=b=>e(t).sale_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:r.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),e(t).errors.sale_price?(d(),c("div",Nt,l(e(t).errors.sale_price),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Ot,[s("label",Rt,l(r.translations.discount||"Discount (%)"),1),a(Y,{value:e(t).discount,"onUpdate:value":i[6]||(i[6]=b=>e(t).discount=b),class:"mt-2 w-full",min:0,max:100,step:1,placeholder:r.translations.enter_discount||"Enter Discount"},null,8,["value","placeholder"]),e(t).errors.discount?(d(),c("div",Tt,l(e(t).errors.discount),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Gt,[s("label",Mt,l(r.translations.final_price||"Final Price"),1),a(Y,{value:e(t).final_price,"onUpdate:value":i[7]||(i[7]=b=>e(t).final_price=b),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"]),e(t).errors.final_price?(d(),c("div",zt,l(e(t).errors.final_price),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Yt,[s("label",qt,l(r.translations.stock||"Stock"),1),a(Y,{value:e(t).stock,"onUpdate:value":i[8]||(i[8]=b=>e(t).stock=b),class:"mt-2 w-full",min:0,placeholder:r.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),e(t).errors.stock?(d(),c("div",Jt,l(e(t).errors.stock),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Kt,[s("label",Ht,l(r.translations.status||"Status"),1),a(te,{value:e(t).status,"onUpdate:value":i[9]||(i[9]=b=>e(t).status=b),class:"mt-2 w-full",placeholder:r.translations.select_status||"Select Status"},{default:n(()=>[a(ne,{value:"active"},{default:n(()=>[k(l(r.translations.active||"Active"),1)]),_:1}),a(ne,{value:"inactive"},{default:n(()=>[k(l(r.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),e(t).errors.status?(d(),c("div",Qt,l(e(t).errors.status),1)):_("",!0)])]),_:1})]),_:1}),s("div",Wt,[s("label",Xt,l(r.translations.description||"Description"),1),a(ce,{value:e(t).description,"onUpdate:value":i[10]||(i[10]=b=>e(t).description=b),class:"mt-2 w-full",placeholder:r.translations.enter_description||"Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),e(t).errors.description?(d(),c("div",Zt,l(e(t).errors.description),1)):_("",!0)]),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>{var b;return[s("div",es,[s("label",ts,l(r.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:T,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(t).errors.thumnail_img?(d(),c("div",ss,l(e(t).errors.thumnail_img),1)):_("",!0),I.value?(d(),c("div",as,[s("p",ls,l(r.translations.preview||"Preview"),1),s("img",{src:I.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,os)])):(b=r.product)!=null&&b.thumnail_img?(d(),c("div",rs,[s("p",ns,l(r.translations.current_image||"Current Image"),1),s("img",{src:"/storage/"+r.product.thumnail_img,alt:"Current Thumbnail",class:"w-24 h-24 object-cover rounded border"},null,8,is)])):_("",!0)])]}),_:1}),a(C,{span:12},{default:n(()=>[s("div",ds,[s("label",cs,l(r.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:L,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(t).errors.gallary_img?(d(),c("div",us,l(e(t).errors.gallary_img),1)):_("",!0),o.value.length?(d(),c("div",ps,[s("p",_s,l(r.translations.current_images||"Current Images"),1),s("div",ms,[(d(!0),c(P,null,ae(o.value,(b,q)=>(d(),c("div",{key:"existing-"+q,class:"relative"},[s("img",{src:"/storage/"+b,alt:"Current Gallery Image",class:"w-24 h-24 object-cover rounded border"},null,8,vs),s("button",{onClick:se=>B(q,se),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},i[15]||(i[15]=[s("i",{class:"fa fa-times"},null,-1)]),8,bs)]))),128))])])):_("",!0),v.value.length?(d(),c("div",gs,[s("p",fs,l(r.translations.preview||"Preview"),1),s("div",hs,[(d(!0),c(P,null,ae(v.value,(b,q)=>(d(),c("div",{key:"new-"+q,class:"relative"},[s("img",{src:b,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,ys),s("button",{onClick:se=>B(o.value.length+q,se),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},i[16]||(i[16]=[s("i",{class:"fa fa-times"},null,-1)]),8,ks)]))),128))])])):_("",!0)])]),_:1})]),_:1}),s("div",ws,[s("label",$s,[a(ue,{checked:e(t).feature,"onUpdate:checked":i[11]||(i[11]=b=>e(t).feature=b)},{default:n(()=>[k(l(r.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),e(t).errors.feature?(d(),c("div",Ps,l(e(t).errors.feature),1)):_("",!0)]),s("div",Cs,[a(pe,{type:"default",onClick:i[12]||(i[12]=b=>r.$emit("update:isVisible",!1))},{default:n(()=>[k(l(r.translations.cancel||"Cancel"),1)]),_:1}),a(e(ye),{type:"submit",class:"\\btn-primary ml-2",disabled:e(t).processing},{default:n(()=>[e(t).processing?(d(),de(e(ke),{key:0,class:"h-4 w-4 animate-spin"})):_("",!0),k(" "+l(r.translations.update||"Update"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["open","title"])],64)}}}),xs={key:0,class:"loading-overlay"},Us={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},Ss={class:"mb-4 flex items-center justify-between"},Es={class:"text-lg font-semibold"},Vs={key:1},Ls=["src"],js={key:1,class:"text-gray-400 mb-1"},Ms=le({__name:"Index",props:{products:{},brands:{},categories:{}},setup(K){const D=U(!1),m=U(!1),S=U(!1),E=U(null),I=ve(),v=A(()=>{var w;return((w=I.props.translations)==null?void 0:w.dashboard_all_pages)||{}}),o=A(()=>[{title:v.value.id||"ID",dataIndex:"id",key:"id"},{title:v.value.image||"Image",dataIndex:"image",key:"image"},{title:v.value.name||"Name",dataIndex:"name",key:"name"},{title:v.value.stock||"Stock",dataIndex:"stock",key:"stock"},{title:v.value.purchase_price||"Purchase Price",dataIndex:"purchase_price",key:"purchase_price"},{title:v.value.sale_price||"Sale Price",dataIndex:"sale_price",key:"sale_price"},{title:v.value.discount||"Discount",dataIndex:"discount",key:"discount"},{title:v.value.final_price||"Final Price",dataIndex:"final_price",key:"final_price"},{title:v.value.category||"Category",dataIndex:"category_name",key:"category_name"},{title:v.value.brand||"Brand",dataIndex:"brand_name",key:"brand_name"},{title:v.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:v.value.action||"Action",dataIndex:"action",key:"action"}]),t=w=>w?fe(w).format("DD-MM-YYYY hh:mm A"):"N/A",H=w=>{he.confirm({title:v.value.delete_product_confirm||"Are you sure you want to delete this Product?",content:v.value.delete_product_warning||"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk(){D.value=!0,oe({}).delete(route("admin.product.delete",{id:w}),{onSuccess:()=>{},onFinish:()=>{D.value=!1}})}})},O=w=>{E.value=w,S.value=!0};return(w,$)=>{const T=y("a-spin"),L=y("a-button"),B=y("a-tooltip"),p=y("a-table"),u=y("a-col"),V=y("a-row");return d(),c(P,null,[D.value?(d(),c("div",xs,[a(T,{size:"large"})])):_("",!0),a(me,null,{default:n(()=>[a(e(be),{title:"Product List"}),a(V,null,{default:n(()=>[a(u,{span:24},{default:n(()=>[s("div",Us,[s("div",Ss,[s("h2",Es,l(v.value.product_list||"Product List "),1),s("div",null,[a(L,{class:"mx-2",type:"default",onClick:$[0]||($[0]=h=>m.value=!0)},{default:n(()=>[k(l(v.value.add_product||"Add Product"),1)]),_:1}),a(e(ge),{href:w.route("admin.product-log")},{default:n(()=>[a(L,{class:"mx-2",type:"default"},{default:n(()=>[k(l(v.value.product_logs||"Product Logs"),1)]),_:1})]),_:1},8,["href"])])]),w.products?(d(),de(p,{key:0,columns:o.value,"data-source":w.products.data,rowKey:"id",bordered:""},{bodyCell:n(({column:h,record:g,index:x})=>[h.dataIndex==="id"?(d(),c(P,{key:0},[k(l(x+1),1)],64)):_("",!0),h.dataIndex==="image"?(d(),c("div",Vs,[g.thumnail_img?(d(),c("img",{key:0,src:"/storage/"+g.thumnail_img,alt:"thumnail_img",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity"},null,8,Ls)):(d(),c("span",js,"No Image"))])):_("",!0),h.dataIndex==="name"?(d(),c(P,{key:2},[k(l(g.name),1)],64)):_("",!0),h.dataIndex==="stock"?(d(),c(P,{key:3},[k(l(g.stock),1)],64)):_("",!0),h.dataIndex==="purchase_price"?(d(),c(P,{key:4},[k(l(g.purchase_price),1)],64)):_("",!0),h.dataIndex==="sale_price"?(d(),c(P,{key:5},[k(l(g.sale_price),1)],64)):_("",!0),h.dataIndex==="discount"?(d(),c(P,{key:6},[k(l(g.discount?g.discount+"%":"0%"),1)],64)):_("",!0),h.dataIndex==="final_price"?(d(),c(P,{key:7},[k(l(g.final_price||g.sale_price),1)],64)):_("",!0),h.dataIndex==="category_name"?(d(),c(P,{key:8},[k(l(g.category_name),1)],64)):_("",!0),h.dataIndex==="brand_name"?(d(),c(P,{key:9},[k(l(g.brand_name),1)],64)):h.dataIndex==="created_at"?(d(),c(P,{key:10},[k(l(t(g.created_at)),1)],64)):h.dataIndex==="action"?(d(),c(P,{key:11},[a(B,{placement:"top"},{title:n(()=>[k(l(v.value.delete||"Delete"),1)]),default:n(()=>[a(L,{type:"link",onClick:F=>H(g.id)},{default:n(()=>$[5]||($[5]=[s("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),a(B,{placement:"top"},{title:n(()=>[k(l(v.value.edit||"Edit"),1)]),default:n(()=>[a(L,{type:"link",onClick:F=>O(g)},{default:n(()=>$[6]||($[6]=[s("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024)],64)):_("",!0)]),_:1},8,["columns","data-source"])):_("",!0)])]),_:1})]),_:1}),a(ht,{"is-visible":m.value,categories:w.categories,brands:w.brands,translations:v.value,"onUpdate:isVisible":$[1]||($[1]=h=>m.value=h),onSuccess:$[2]||($[2]=h=>m.value=!1)},null,8,["is-visible","categories","brands","translations"]),a(Is,{"is-visible":S.value,product:E.value,categories:w.categories,brands:w.brands,translations:v.value,"onUpdate:isVisible":$[3]||($[3]=h=>S.value=h),onSuccess:$[4]||($[4]=h=>S.value=!1)},null,8,["is-visible","product","categories","brands","translations"])]),_:1})],64)}}});export{Ms as default};
