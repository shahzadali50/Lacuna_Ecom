import{e as a,I as q,d as T,c as F,a as _,o as g,u as o,av as K,n as L,W as k,p as b,y as I,ab as G,r as z,b as s,w as n,g as w,as as C,P as V,aw as J,ax as Q,F as H,v as R,ay as X,t as h,f as D,q as $,at as Y,i as U,au as Z,az as ee,s as E}from"./app-BiURQSQB.js";import{_ as te}from"./useFlashMessages-DPoNXTM3.js";import{F as N}from"./FilterOutlined-tfRx2fuk.js";import{_ as ae}from"./LoginModal.vue_vue_type_script_setup_true_lang-Bj-KCBAq.js";import{S as se}from"./ShoppingCartOutlined-CHiksrU2.js";import{H as le}from"./UserLayout.vue_vue_type_script_setup_true_lang-Ef-rBHof.js";var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function A(v){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(i){return Object.getOwnPropertyDescriptor(l,i).enumerable}))),u.forEach(function(i){re(v,i,l[i])})}return v}function re(v,e,l){return e in v?Object.defineProperty(v,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):v[e]=l,v}var j=function(e,l){var u=A({},e,l.attrs);return a(q,A({},u,{icon:oe}),null)};j.displayName="ClearOutlined";j.inheritAttrs=!1;const ne={class:"text-center mt-8 sm:mt-12"},ie=T({__name:"PaginationComponent",props:{paginationData:{}},setup(v){const e=v,l=F(()=>{var i,f,d,p,P,x;return{current_page:((i=e.paginationData)==null?void 0:i.current_page)||1,last_page:((f=e.paginationData)==null?void 0:f.last_page)||1,total:((d=e.paginationData)==null?void 0:d.total)||0,per_page:((p=e.paginationData)==null?void 0:p.per_page)||5,from:((P=e.paginationData)==null?void 0:P.from)||1,to:((x=e.paginationData)==null?void 0:x.to)||0}}),u=i=>{console.log("Navigating to page:",i);const f=L().url,d=new URL(f,window.location.origin);d.searchParams.set("page",i.toString()),k.visit(d.pathname+d.search,{preserveState:!1,preserveScroll:!0})};return(i,f)=>(g(),_("div",ne,[a(o(K),{current:l.value.current_page,total:l.value.total,"page-size":l.value.per_page,"show-total":(d,p)=>`${p[0]}-${p[1]} of ${d} items`,onChange:u,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),ce=te(ie,[["__scopeId","data-v-56e6d364"]]),ue={class:"flex item-center"},de={class:"flex items-end gap-2 my-4"},pe={class:""},me={class:""},ve={class:""},ge=["onClick"],fe={class:"mb-0"},_e=T({__name:"FilterProduct",props:{categories:{},selectedCategory:{}},setup(v){const e=v,l=b(!1),u=()=>{l.value=!0},i=()=>{l.value=!1},f=b(["1"]),d=b(null),p=b(null),P=S=>{k.get(route("all.products"),{category:S,min_price:d.value,max_price:p.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},x=()=>{k.get(route("all.products"),{category:e.selectedCategory,min_price:d.value,max_price:p.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},O=b(500),y=()=>{O.value=window.innerWidth<=576?280:380};return I(()=>{y(),window.addEventListener("resize",y)}),G(()=>{window.removeEventListener("resize",y)}),(S,c)=>{const B=z("a-input"),t=z("a-drawer");return g(),_("div",null,[s("div",ue,[a(o(C),{type:"text",class:"flex items-center",size:"large",onClick:u},{default:n(()=>[a(o(N)),c[3]||(c[3]=w("Filter "))]),_:1}),a(o(C),{size:"large",type:"text"},{default:n(()=>[a(o(V),{href:S.route("all.products"),class:"flex items-center"},{default:n(()=>[a(o(j)),c[4]||(c[4]=w("Clear Filters "))]),_:1},8,["href"])]),_:1})]),a(t,{title:"Filter Products",placement:"left",open:l.value,onClose:i,width:O.value},{default:n(()=>[s("div",null,[s("div",null,[s("div",de,[s("div",pe,[c[5]||(c[5]=s("label",{class:"block text-xs mb-1"},"Min Price",-1)),a(B,{type:"number",placeholder:"Min price",min:"0",value:d.value,"onUpdate:value":c[0]||(c[0]=r=>d.value=r)},null,8,["value"])]),s("div",me,[c[6]||(c[6]=s("label",{class:"block text-xs mb-1"},"Max Price",-1)),a(B,{type:"number",placeholder:"Max price",min:"0",value:p.value,"onUpdate:value":c[1]||(c[1]=r=>p.value=r)},null,8,["value"])]),s("div",ve,[a(o(C),{type:"dashed",onClick:x},{default:n(()=>[a(o(N)),c[7]||(c[7]=w(" Filter "))]),_:1})])])]),a(o(J),{activeKey:f.value,"onUpdate:activeKey":c[2]||(c[2]=r=>f.value=r),bordered:!1},{default:n(()=>[a(o(Q),{key:"1",header:"Filter by Category"},{default:n(()=>[(g(!0),_(H,null,R(e.categories,r=>(g(),_("div",{key:r.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:M=>P(r.slug)},[a(o(X),{checked:e.selectedCategory===r.slug},{default:n(()=>[w(h(r.name),1)]),_:2},1032,["checked"]),s("p",fe,h(r.product_count)+" Products ",1)],8,ge))),128))]),_:1})]),_:1},8,["activeKey"])])]),_:1},8,["open","width"])])}}}),he={class:"container mx-auto"},xe={class:"container mx-auto px-2 sm:px-4"},ye={class:"text-center mb-8 sm:mb-12"},be={key:0,class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},we={key:1,class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},Ce={key:0},Pe={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},ke=["src","alt"],Se={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},$e={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},Fe={class:"flex justify-between items-center"},Oe={class:"flex flex-wrap"},Be={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},De={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},ze={key:1,class:"text-center mt-8 sm:mt-12"},Ve={key:1},Ee=T({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showFilter:{type:Boolean},showPagination:{type:Boolean},categories:{},selectedCategory:{},showTitle:{type:Boolean},showSubTitle:{type:Boolean},sectionClass:{}},setup(v){const e=v,l=L(),u=F(()=>{var t;return((t=l.props.translations)==null?void 0:t.products)||{}}),i=F(()=>{var t;return((t=l.props.products)==null?void 0:t.data)||[]}),f=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(t),d=t=>{k.visit(route("product.detail",{slug:t}))},p=b(new Set),P=t=>{p.value.add(t.id),k.post(route("cart.add"),{id:t.id,qty:1},{preserveScroll:!0,onSuccess:()=>{p.value.delete(t.id)},onError:r=>{p.value.delete(t.id),console.error("Failed to add to cart",r)}})},x=b(!1),O=F(()=>{var t;return(t=l.props.auth)==null?void 0:t.user}),y=b(new Set),S=t=>{O.value?(y.value.add(t),k.post(route("wishlist.add"),{product_id:t},{preserveScroll:!0,onSuccess:()=>{y.value.delete(t)},onError:()=>{y.value.delete(t)}})):x.value=!0},c=F(()=>l.props.wishlist||[]),B=t=>c.value.includes(t);return(t,r)=>{const M=z("a-result");return g(),_(H,null,[s("section",null,[s("div",he,[e.showFilter===!0?(g(),D(_e,{key:0,categories:e.categories,selectedCategory:e.selectedCategory,translations:u.value},null,8,["categories","selectedCategory","translations"])):$("",!0)])]),s("section",{class:U(["",e.sectionClass])},[s("div",xe,[s("div",ye,[e.showTitle!==!1?(g(),_("h2",be,h(e.title||u.value.title||"Product List"),1)):$("",!0),e.showSubTitle!==!1?(g(),_("p",we,h(e.subtitle||u.value.subtitle||"Explore our wide range of high-quality products tailored to your needs."),1)):$("",!0)]),i.value.length>0?(g(),_("div",Ce,[a(o(Y),{gutter:[16,16]},{default:n(()=>[(g(!0),_(H,null,R(i.value,m=>(g(),D(o(Z),{xs:12,sm:12,md:8,lg:8,xl:6,key:m.id,class:"mb-6"},{default:n(()=>[a(o(ee),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:W=>d(m.slug)},{cover:n(()=>[s("div",Pe,[s("img",{src:"/storage/"+m.thumnail_img,alt:m.name,class:"w-full h-full object-cover"},null,8,ke),s("div",Se,h(m.category_name),1),a(o(C),{onClick:E(W=>S(m.id),["stop"]),shape:"circle",size:"small",loading:y.value.has(m.id),class:U(["flex items-center justify-center !w-7 !h-7 absolute top-7 right-1",B(m.id)?"!bg-red-500 !text-white !border-red-500 hover:!bg-red-600":"!bg-white !text-black !border-gray-300 "]),"aria-label":"Toggle favorite"},{icon:n(()=>[a(o(le))]),_:2},1032,["onClick","loading","class"])])]),default:n(()=>[s("div",null,[s("h3",$e,h(m.name),1),s("div",Fe,[s("div",Oe,[s("span",Be,h(f(m.final_price)),1),s("span",De,h(f(m.sale_price)),1)])]),a(o(C),{type:"primary",class:"btn-primary flex items-center justify-center mt-2",loading:p.value.has(m.id),onClick:E(W=>P(m),["stop"]),"aria-label":"Add to cart"},{icon:n(()=>[a(o(se))]),default:n(()=>[w(" "+h(u.value.add_to_cart||"Add to Cart"),1)]),_:2},1032,["loading","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e.showPagination!==!1?(g(),D(ce,{key:0,"pagination-data":o(l).props.products},null,8,["pagination-data"])):$("",!0),e.showAllProductsButton===!0?(g(),_("div",ze,[a(o(C),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:n(()=>[a(o(V),{href:t.route("all.products")},{default:n(()=>[w(h(u.value.all_products||"All Products"),1),r[1]||(r[1]=s("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):$("",!0)])):(g(),_("div",Ve,[a(M,{status:"404",title:"404","sub-title":"We couldnâ€™t find any products matching your search."},{extra:n(()=>[a(o(C),{class:"btn-primary",size:"large",type:"primary"},{default:n(()=>[a(o(V),{href:t.route("all.products")},{default:n(()=>r[2]||(r[2]=[w(" Continue Shopping ")])),_:1},8,["href"])]),_:1})]),_:1})]))])],2),a(ae,{open:x.value,"onUpdate:open":r[0]||(r[0]=m=>x.value=m),canResetPassword:!1},null,8,["open"])],64)}}});export{Ee as _};
