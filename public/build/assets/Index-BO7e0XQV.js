import{A as _e}from"./AdminLayout-eFpgF0bE.js";import{d as le,p as U,C as oe,x as J,c as A,r as y,a as c,o as d,F as P,s as _,e as a,w as n,b as s,t as l,u as e,g as k,q as ae,v as de,n as me,m as ve,f as be,P as ge,l as fe,M as he}from"./app-0SVLDt54.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CL7mQsJ8.js";const ye={key:0,class:"loading-overlay"},ke={class:"mb-4"},we={class:"block"},$e={key:0,class:"text-red-500"},Pe={class:"mb-4"},Ce={class:"block"},Ie={key:0,class:"text-red-500"},xe={class:"mb-4"},Ue={class:"block"},Se={key:0,class:"text-red-500"},Ee={class:"mb-4"},Ve={class:"block"},Le={key:0,class:"text-red-500"},je={class:"mb-4"},Ae={class:"block"},De={key:0,class:"text-red-500"},Be={class:"mb-4"},Fe={class:"block"},Ne={key:0,class:"text-red-500"},Oe={class:"mb-4"},Re={class:"block"},Te={key:0,class:"text-red-500"},Ge={class:"mb-4"},Me={class:"block"},ze={key:0,class:"text-red-500"},Ye={class:"mb-4"},qe={class:"block"},Je={key:0,class:"text-red-500"},Ke={class:"mb-4"},He={class:"block"},Qe={key:0,class:"text-red-500"},We={key:1,class:"mt-2"},Xe={class:"text-sm text-gray-600 mb-1"},Ze=["src"],et={class:"mb-4"},tt={class:"block"},st={key:0,class:"text-red-500"},at={key:1,class:"mt-2"},lt={class:"text-sm text-gray-600 mb-1"},ot={class:"flex flex-wrap gap-2"},rt=["src"],nt=["onClick"],it={class:"mb-4"},dt={class:"flex items-center"},ct={key:0,class:"text-red-500"},ut={class:"mb-4"},pt={class:"block"},_t={key:0,class:"text-red-500"},mt={class:"mb-4"},vt={class:"block"},bt={class:"text-right"},gt=le({__name:"AddProduct",props:{isVisible:{type:Boolean},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(K,{emit:D}){const m=K,S=D,E=U(!1),I=U(null),v=U([]),o=oe({name:"",description:"",brand_id:null,category_id:null,thumnail_img:null,gallary_img:[],stock:0,status:"active",purchase_price:null,sale_price:null,feature:!1,barcode:"",discount:0,final_price:0});J(()=>o.category_id,()=>{o.brand_id=null});const t=A(()=>{var p;return((p=m.brands)==null?void 0:p.filter(u=>u.category_id===o.category_id).map(u=>({value:u.id,label:u.name})))||[]}),H=A(()=>{var p;return((p=m.categories)==null?void 0:p.map(u=>({value:u.id,label:u.name})))||[]}),O=(p,u)=>u.label.toLowerCase().includes(p.toLowerCase()),w=p=>{const u=p.target;u.files&&u.files[0]&&(o.thumnail_img=u.files[0],I.value=URL.createObjectURL(u.files[0]))},$=p=>{const u=p.target;if(u.files){const V=Array.from(u.files);o.gallary_img=[...o.gallary_img,...V];const h=V.map(g=>URL.createObjectURL(g));v.value=[...v.value,...h]}},T=(p,u)=>{u.preventDefault(),u.stopPropagation(),o.gallary_img.splice(p,1),v.value.splice(p,1)},L=A(()=>{if(o.sale_price&&o.discount){const p=o.sale_price*o.discount/100;return o.sale_price-p}return o.sale_price});J([()=>o.sale_price,()=>o.discount],()=>{o.final_price=L.value});const B=()=>{E.value=!0,o.post(route("admin.product.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.reset(),S("update:isVisible",!1),S("success"),I.value=null,v.value=[]},onFinish:()=>{E.value=!1}})};return(p,u)=>{const V=y("a-spin"),h=y("a-select"),g=y("a-col"),x=y("a-row"),F=y("a-input"),j=y("a-input-number"),G=y("a-select-option"),Q=y("a-textarea"),W=y("a-checkbox"),M=y("a-button"),X=y("a-modal");return d(),c(P,null,[E.value?(d(),c("div",ye,[a(V,{size:"large"})])):_("",!0),a(X,{width:"1000px",open:p.isVisible,title:p.translations.add_product||"Add Product","onUpdate:open":u[13]||(u[13]=f=>p.$emit("update:isVisible",f)),onCancel:u[14]||(u[14]=f=>p.$emit("update:isVisible",!1)),footer:null},{default:n(()=>[s("form",{onSubmit:de(B,["prevent"])},[a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",ke,[s("label",we,l(p.translations.select_category||"Select Category"),1),a(h,{value:e(o).category_id,"onUpdate:value":u[0]||(u[0]=f=>e(o).category_id=f),"show-search":"",placeholder:p.translations.select_category||"Select Category",class:"mt-2 w-full",options:H.value,"filter-option":O},null,8,["value","placeholder","options"]),e(o).errors.category_id?(d(),c("div",$e,l(e(o).errors.category_id),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Pe,[s("label",Ce,l(p.translations.select_brand||"Select Brand"),1),a(h,{value:e(o).brand_id,"onUpdate:value":u[1]||(u[1]=f=>e(o).brand_id=f),"show-search":"",placeholder:p.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:t.value,"filter-option":O,disabled:!e(o).category_id},null,8,["value","placeholder","options","disabled"]),e(o).errors.brand_id?(d(),c("div",Ie,l(e(o).errors.brand_id),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",xe,[s("label",Ue,l(p.translations.enter_product_name||"Enter Product Name"),1),a(F,{value:e(o).name,"onUpdate:value":u[2]||(u[2]=f=>e(o).name=f),class:"mt-2 w-full",placeholder:p.translations.enter_product_name||"Enter Product Name"},null,8,["value","placeholder"]),e(o).errors.name?(d(),c("div",Se,l(e(o).errors.name),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Ee,[s("label",Ve,l(p.translations.enter_barcode||"Enter Barcode"),1),a(F,{value:e(o).barcode,"onUpdate:value":u[3]||(u[3]=f=>e(o).barcode=f),class:"mt-2 w-full",placeholder:p.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),e(o).errors.barcode?(d(),c("div",Le,l(e(o).errors.barcode),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",je,[s("label",Ae,l(p.translations.enter_purchase_price||"Enter Purchase Price"),1),a(j,{value:e(o).purchase_price,"onUpdate:value":u[4]||(u[4]=f=>e(o).purchase_price=f),class:"mt-2 w-full",min:0,step:.01,placeholder:p.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),e(o).errors.purchase_price?(d(),c("div",De,l(e(o).errors.purchase_price),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Be,[s("label",Fe,l(p.translations.enter_sale_price||"Sale Price"),1),a(j,{value:e(o).sale_price,"onUpdate:value":u[5]||(u[5]=f=>e(o).sale_price=f),class:"mt-2 w-full",min:0,step:.01,placeholder:p.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),e(o).errors.sale_price?(d(),c("div",Ne,l(e(o).errors.sale_price),1)):_("",!0)])]),_:1})]),_:1}),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",Oe,[s("label",Re,l(p.translations.stock||"Stock"),1),a(j,{value:e(o).stock,"onUpdate:value":u[6]||(u[6]=f=>e(o).stock=f),class:"mt-2 w-full",min:0,placeholder:p.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),e(o).errors.stock?(d(),c("div",Te,l(e(o).errors.stock),1)):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",Ge,[s("label",Me,l(p.translations.select_status||"Select Status"),1),a(h,{value:e(o).status,"onUpdate:value":u[7]||(u[7]=f=>e(o).status=f),class:"mt-2 w-full",placeholder:p.translations.select_status||"Select Status"},{default:n(()=>[a(G,{value:"active"},{default:n(()=>[k(l(p.translations.active||"Active"),1)]),_:1}),a(G,{value:"inactive"},{default:n(()=>[k(l(p.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),e(o).errors.status?(d(),c("div",ze,l(e(o).errors.status),1)):_("",!0)])]),_:1})]),_:1}),s("div",Ye,[s("label",qe,l(p.translations.enter_description||"Enter Description"),1),a(Q,{value:e(o).description,"onUpdate:value":u[8]||(u[8]=f=>e(o).description=f),class:"mt-2 w-full",placeholder:p.translations.enter_description||"Enter Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),e(o).errors.description?(d(),c("div",Je,l(e(o).errors.description),1)):_("",!0)]),a(x,{gutter:16},{default:n(()=>[a(g,{span:12},{default:n(()=>[s("div",Ke,[s("label",He,l(p.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:w,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(o).errors.thumnail_img?(d(),c("div",Qe,l(e(o).errors.thumnail_img),1)):_("",!0),I.value?(d(),c("div",We,[s("p",Xe,l(p.translations.preview||"Preview"),1),s("img",{src:I.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Ze)])):_("",!0)])]),_:1}),a(g,{span:12},{default:n(()=>[s("div",et,[s("label",tt,l(p.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:$,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(o).errors.gallary_img?(d(),c("div",st,l(e(o).errors.gallary_img),1)):_("",!0),v.value.length?(d(),c("div",at,[s("p",lt,l(p.translations.preview||"Preview"),1),s("div",ot,[(d(!0),c(P,null,ae(v.value,(f,z)=>(d(),c("div",{key:z,class:"relative"},[s("img",{src:f,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,rt),s("button",{onClick:Z=>T(z,Z),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},u[15]||(u[15]=[s("i",{class:"fa fa-times"},null,-1)]),8,nt)]))),128))])])):_("",!0)])]),_:1})]),_:1}),s("div",it,[s("label",dt,[a(W,{checked:e(o).feature,"onUpdate:checked":u[9]||(u[9]=f=>e(o).feature=f)},{default:n(()=>[k(l(p.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),e(o).errors.feature?(d(),c("div",ct,l(e(o).errors.feature),1)):_("",!0)]),a(x,{gutter:16},{default:n(()=>[a(g,{xs:24,md:12},{default:n(()=>[s("div",ut,[s("label",pt,l(p.translations.enter_discount||"Enter Discount"),1),a(j,{value:e(o).discount,"onUpdate:value":u[10]||(u[10]=f=>e(o).discount=f),class:"mt-2 w-full",min:0,max:100,step:1},null,8,["value"]),e(o).errors.discount?(d(),c("div",_t,l(e(o).errors.discount),1)):_("",!0)])]),_:1}),a(g,{xs:24,md:12},{default:n(()=>[s("div",mt,[s("label",vt,l(p.translations.final_price||"Final Price"),1),a(j,{value:e(o).final_price,"onUpdate:value":u[11]||(u[11]=f=>e(o).final_price=f),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"])])]),_:1})]),_:1}),s("div",bt,[a(M,{type:"default",onClick:u[12]||(u[12]=f=>p.$emit("update:isVisible",!1))},{default:n(()=>[k(l(p.translations.cancel||"Cancel"),1)]),_:1}),a(M,{type:"primary","html-type":"submit",class:"ml-2"},{default:n(()=>[k(l(p.translations.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"])],64)}}}),ft={key:0,class:"loading-overlay"},ht={class:"mb-4"},yt={class:"block"},kt={key:0,class:"text-red-500"},wt={class:"mb-4"},$t={class:"block"},Pt={key:0,class:"text-red-500"},Ct={class:"mb-4"},It={class:"block"},xt={key:0,class:"text-red-500"},Ut={class:"mb-4"},St={class:"block"},Et={key:0,class:"text-red-500"},Vt={class:"mb-4"},Lt={class:"block"},jt={key:0,class:"text-red-500"},At={class:"mb-4"},Dt={class:"block"},Bt={key:0,class:"text-red-500"},Ft={class:"mb-4"},Nt={class:"block"},Ot={key:0,class:"text-red-500"},Rt={class:"mb-4"},Tt={class:"block"},Gt={key:0,class:"text-red-500"},Mt={class:"mb-4"},zt={class:"block"},Yt={key:0,class:"text-red-500"},qt={class:"mb-4"},Jt={class:"block"},Kt={key:0,class:"text-red-500"},Ht={class:"mb-4"},Qt={class:"block"},Wt={key:0,class:"text-red-500"},Xt={class:"mb-4"},Zt={class:"block"},es={key:0,class:"text-red-500"},ts={key:1,class:"mt-2"},ss={class:"text-sm text-gray-600 mb-1"},as=["src"],ls={key:2,class:"mt-2"},os={class:"text-sm text-gray-600 mb-1"},rs=["src"],ns={class:"mb-4"},is={class:"block"},ds={key:0,class:"text-red-500"},cs={key:1,class:"mt-2"},us={class:"text-sm text-gray-600 mb-1"},ps={class:"flex flex-wrap gap-2"},_s=["src"],ms=["onClick"],vs={key:2,class:"mt-2"},bs={class:"text-sm text-gray-600 mb-1"},gs={class:"flex flex-wrap gap-2"},fs=["src"],hs=["onClick"],ys={class:"mb-4"},ks={class:"flex items-center"},ws={key:0,class:"text-red-500"},$s={class:"text-right"},Ps=le({__name:"EditProduct",props:{isVisible:{type:Boolean},product:{},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(K,{emit:D}){var V,h,g,x,F,j,G,Q,W,M,X,f,z,Z,re;const m=K,S=D,E=U(!1),I=U(null),v=U([]),o=U([]),t=oe({id:((V=m.product)==null?void 0:V.id)||0,name:((h=m.product)==null?void 0:h.name)||"",description:((g=m.product)==null?void 0:g.description)||"",brand_id:((x=m.product)==null?void 0:x.brand_id)||null,category_id:((F=m.product)==null?void 0:F.category_id)||null,thumnail_img:null,gallary_img:[],existing_gallary_img:[],stock:((j=m.product)==null?void 0:j.stock)||0,status:((G=m.product)==null?void 0:G.status)||"active",purchase_price:((Q=m.product)==null?void 0:Q.purchase_price)||0,sale_price:((W=m.product)==null?void 0:W.sale_price)||0,feature:((M=m.product)==null?void 0:M.feature)||!1,barcode:((X=m.product)==null?void 0:X.barcode)||"",discount:((f=m.product)==null?void 0:f.discount)||0,final_price:((z=m.product)==null?void 0:z.final_price)||((Z=m.product)==null?void 0:Z.sale_price)||0});if((re=m.product)!=null&&re.gallary_img)try{const r=JSON.parse(m.product.gallary_img);o.value=r,t.existing_gallary_img=r}catch(r){console.error("Error parsing gallery images:",r),o.value=[],t.existing_gallary_img=[]}J(()=>m.isVisible,r=>{if(r&&m.product&&(t.reset(),t.id=m.product.id,t.name=m.product.name,t.description=m.product.description,t.brand_id=m.product.brand_id,t.category_id=m.product.category_id,t.stock=m.product.stock,t.status=m.product.status,t.purchase_price=m.product.purchase_price,t.sale_price=m.product.sale_price,t.feature=m.product.feature,t.barcode=m.product.barcode,t.discount=m.product.discount,t.final_price=m.product.final_price||m.product.sale_price,I.value=null,v.value=[],m.product.gallary_img))try{const i=JSON.parse(m.product.gallary_img);o.value=i,t.existing_gallary_img=i}catch(i){console.error("Error parsing gallery images:",i),o.value=[],t.existing_gallary_img=[]}},{immediate:!0}),J(()=>t.category_id,()=>{const r=m.brands.filter(i=>i.category_id===t.category_id);t.brand_id=r.length>0?r[0].id:null});const O=A(()=>{var r;return((r=m.brands)==null?void 0:r.filter(i=>i.category_id===t.category_id).map(i=>({value:i.id,label:i.name})))||[]}),w=A(()=>{var r;return((r=m.categories)==null?void 0:r.map(i=>({value:i.id,label:i.name})))||[]}),$=(r,i)=>i.label.toLowerCase().includes(r.toLowerCase()),T=r=>{const i=r.target;i.files&&i.files[0]&&(t.thumnail_img=i.files[0],I.value=URL.createObjectURL(i.files[0]))},L=r=>{const i=r.target;if(i.files){const N=Array.from(i.files);t.gallary_img=[...t.gallary_img,...N];const ee=N.map(C=>URL.createObjectURL(C));v.value=[...v.value,...ee]}},B=(r,i)=>{if(i.preventDefault(),i.stopPropagation(),r<o.value.length)o.value.splice(r,1),t.existing_gallary_img=[...o.value];else{const N=r-o.value.length;t.gallary_img.splice(N,1),v.value.splice(N,1)}},p=A(()=>{if(t.sale_price&&t.discount){const r=t.sale_price*t.discount/100;return t.sale_price-r}return t.sale_price||0});J([()=>t.sale_price,()=>t.discount],()=>{t.final_price=p.value});const u=()=>{E.value=!0,t.post(route("admin.product.update",{id:t.id}),{onSuccess:()=>{S("update:isVisible",!1),S("success"),I.value=null,v.value=[]},onFinish:()=>{E.value=!1}})};return(r,i)=>{const N=y("a-spin"),ee=y("a-input"),C=y("a-col"),R=y("a-row"),te=y("a-select"),Y=y("a-input-number"),ne=y("a-select-option"),ce=y("a-textarea"),ue=y("a-checkbox"),ie=y("a-button"),pe=y("a-modal");return d(),c(P,null,[E.value?(d(),c("div",ft,[a(N,{size:"large"})])):_("",!0),a(pe,{width:"1000px",style:{top:"20px"},open:r.isVisible,title:r.translations.edit_product||"Edit Product","onUpdate:open":i[13]||(i[13]=b=>r.$emit("update:isVisible",b)),onCancel:i[14]||(i[14]=b=>r.$emit("update:isVisible",!1)),footer:null},{default:n(()=>[s("form",{onSubmit:de(u,["prevent"]),enctype:"multipart/form-data"},[a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",ht,[s("label",yt,l(r.translations.name||"Name"),1),a(ee,{value:e(t).name,"onUpdate:value":i[0]||(i[0]=b=>e(t).name=b),class:"mt-2 w-full",placeholder:r.translations.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),e(t).errors.name?(d(),c("div",kt,l(e(t).errors.name),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",wt,[s("label",$t,l(r.translations.barcode||"Barcode"),1),a(ee,{value:e(t).barcode,"onUpdate:value":i[1]||(i[1]=b=>e(t).barcode=b),class:"mt-2 w-full",placeholder:r.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),e(t).errors.barcode?(d(),c("div",Pt,l(e(t).errors.barcode),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Ct,[s("label",It,l(r.translations.category||"Category"),1),a(te,{value:e(t).category_id,"onUpdate:value":i[2]||(i[2]=b=>e(t).category_id=b),"show-search":"",placeholder:r.translations.select_category||"Select Category",class:"mt-2 w-full",options:w.value,"filter-option":$},null,8,["value","placeholder","options"]),e(t).errors.category_id?(d(),c("div",xt,l(e(t).errors.category_id),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Ut,[s("label",St,l(r.translations.brand||"Brand"),1),a(te,{value:e(t).brand_id,"onUpdate:value":i[3]||(i[3]=b=>e(t).brand_id=b),"show-search":"",placeholder:r.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:O.value,"filter-option":$,disabled:!e(t).category_id},null,8,["value","placeholder","options","disabled"]),e(t).errors.brand_id?(d(),c("div",Et,l(e(t).errors.brand_id),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Vt,[s("label",Lt,l(r.translations.purchase_price||"Purchase Price"),1),a(Y,{value:e(t).purchase_price,"onUpdate:value":i[4]||(i[4]=b=>e(t).purchase_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:r.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),e(t).errors.purchase_price?(d(),c("div",jt,l(e(t).errors.purchase_price),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",At,[s("label",Dt,l(r.translations.sale_price||"Sale Price"),1),a(Y,{value:e(t).sale_price,"onUpdate:value":i[5]||(i[5]=b=>e(t).sale_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:r.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),e(t).errors.sale_price?(d(),c("div",Bt,l(e(t).errors.sale_price),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Ft,[s("label",Nt,l(r.translations.discount||"Discount (%)"),1),a(Y,{value:e(t).discount,"onUpdate:value":i[6]||(i[6]=b=>e(t).discount=b),class:"mt-2 w-full",min:0,max:100,step:1,placeholder:r.translations.enter_discount||"Enter Discount"},null,8,["value","placeholder"]),e(t).errors.discount?(d(),c("div",Ot,l(e(t).errors.discount),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",Rt,[s("label",Tt,l(r.translations.final_price||"Final Price"),1),a(Y,{value:e(t).final_price,"onUpdate:value":i[7]||(i[7]=b=>e(t).final_price=b),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"]),e(t).errors.final_price?(d(),c("div",Gt,l(e(t).errors.final_price),1)):_("",!0)])]),_:1})]),_:1}),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>[s("div",Mt,[s("label",zt,l(r.translations.stock||"Stock"),1),a(Y,{value:e(t).stock,"onUpdate:value":i[8]||(i[8]=b=>e(t).stock=b),class:"mt-2 w-full",min:0,placeholder:r.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),e(t).errors.stock?(d(),c("div",Yt,l(e(t).errors.stock),1)):_("",!0)])]),_:1}),a(C,{span:12},{default:n(()=>[s("div",qt,[s("label",Jt,l(r.translations.status||"Status"),1),a(te,{value:e(t).status,"onUpdate:value":i[9]||(i[9]=b=>e(t).status=b),class:"mt-2 w-full",placeholder:r.translations.select_status||"Select Status"},{default:n(()=>[a(ne,{value:"active"},{default:n(()=>[k(l(r.translations.active||"Active"),1)]),_:1}),a(ne,{value:"inactive"},{default:n(()=>[k(l(r.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),e(t).errors.status?(d(),c("div",Kt,l(e(t).errors.status),1)):_("",!0)])]),_:1})]),_:1}),s("div",Ht,[s("label",Qt,l(r.translations.description||"Description"),1),a(ce,{value:e(t).description,"onUpdate:value":i[10]||(i[10]=b=>e(t).description=b),class:"mt-2 w-full",placeholder:r.translations.enter_description||"Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),e(t).errors.description?(d(),c("div",Wt,l(e(t).errors.description),1)):_("",!0)]),a(R,{gutter:16},{default:n(()=>[a(C,{span:12},{default:n(()=>{var b;return[s("div",Xt,[s("label",Zt,l(r.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:T,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(t).errors.thumnail_img?(d(),c("div",es,l(e(t).errors.thumnail_img),1)):_("",!0),I.value?(d(),c("div",ts,[s("p",ss,l(r.translations.preview||"Preview"),1),s("img",{src:I.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,as)])):(b=r.product)!=null&&b.thumnail_img?(d(),c("div",ls,[s("p",os,l(r.translations.current_image||"Current Image"),1),s("img",{src:"/storage/"+r.product.thumnail_img,alt:"Current Thumbnail",class:"w-24 h-24 object-cover rounded border"},null,8,rs)])):_("",!0)])]}),_:1}),a(C,{span:12},{default:n(()=>[s("div",ns,[s("label",is,l(r.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:L,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),e(t).errors.gallary_img?(d(),c("div",ds,l(e(t).errors.gallary_img),1)):_("",!0),o.value.length?(d(),c("div",cs,[s("p",us,l(r.translations.current_images||"Current Images"),1),s("div",ps,[(d(!0),c(P,null,ae(o.value,(b,q)=>(d(),c("div",{key:"existing-"+q,class:"relative"},[s("img",{src:"/storage/"+b,alt:"Current Gallery Image",class:"w-24 h-24 object-cover rounded border"},null,8,_s),s("button",{onClick:se=>B(q,se),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},i[15]||(i[15]=[s("i",{class:"fa fa-times"},null,-1)]),8,ms)]))),128))])])):_("",!0),v.value.length?(d(),c("div",vs,[s("p",bs,l(r.translations.preview||"Preview"),1),s("div",gs,[(d(!0),c(P,null,ae(v.value,(b,q)=>(d(),c("div",{key:"new-"+q,class:"relative"},[s("img",{src:b,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,fs),s("button",{onClick:se=>B(o.value.length+q,se),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},i[16]||(i[16]=[s("i",{class:"fa fa-times"},null,-1)]),8,hs)]))),128))])])):_("",!0)])]),_:1})]),_:1}),s("div",ys,[s("label",ks,[a(ue,{checked:e(t).feature,"onUpdate:checked":i[11]||(i[11]=b=>e(t).feature=b)},{default:n(()=>[k(l(r.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),e(t).errors.feature?(d(),c("div",ws,l(e(t).errors.feature),1)):_("",!0)]),s("div",$s,[a(ie,{type:"default",onClick:i[12]||(i[12]=b=>r.$emit("update:isVisible",!1))},{default:n(()=>[k(l(r.translations.cancel||"Cancel"),1)]),_:1}),a(ie,{type:"primary","html-type":"submit",class:"ml-2"},{default:n(()=>[k(l(r.translations.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"])],64)}}}),Cs={key:0,class:"loading-overlay"},Is={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},xs={class:"mb-4 flex items-center justify-between"},Us={class:"text-lg font-semibold"},Ss={key:1},Es=["src"],Vs={key:1,class:"text-gray-400 mb-1"},Ds=le({__name:"Index",props:{products:{},brands:{},categories:{}},setup(K){const D=U(!1),m=U(!1),S=U(!1),E=U(null),I=me(),v=A(()=>{var w;return((w=I.props.translations)==null?void 0:w.dashboard_all_pages)||{}}),o=A(()=>[{title:v.value.id||"ID",dataIndex:"id",key:"id"},{title:v.value.image||"Image",dataIndex:"image",key:"image"},{title:v.value.name||"Name",dataIndex:"name",key:"name"},{title:v.value.stock||"Stock",dataIndex:"stock",key:"stock"},{title:v.value.purchase_price||"Purchase Price",dataIndex:"purchase_price",key:"purchase_price"},{title:v.value.sale_price||"Sale Price",dataIndex:"sale_price",key:"sale_price"},{title:v.value.discount||"Discount",dataIndex:"discount",key:"discount"},{title:v.value.final_price||"Final Price",dataIndex:"final_price",key:"final_price"},{title:v.value.category||"Category",dataIndex:"category_name",key:"category_name"},{title:v.value.brand||"Brand",dataIndex:"brand_name",key:"brand_name"},{title:v.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:v.value.action||"Action",dataIndex:"action",key:"action"}]),t=w=>w?fe(w).format("DD-MM-YYYY hh:mm A"):"N/A",H=w=>{he.confirm({title:v.value.delete_product_confirm||"Are you sure you want to delete this Product?",content:v.value.delete_product_warning||"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk(){D.value=!0,oe({}).delete(route("admin.product.delete",{id:w}),{onSuccess:()=>{},onFinish:()=>{D.value=!1}})}})},O=w=>{E.value=w,S.value=!0};return(w,$)=>{const T=y("a-spin"),L=y("a-button"),B=y("a-tooltip"),p=y("a-table"),u=y("a-col"),V=y("a-row");return d(),c(P,null,[D.value?(d(),c("div",Cs,[a(T,{size:"large"})])):_("",!0),a(_e,null,{default:n(()=>[a(e(ve),{title:"Product List"}),a(V,null,{default:n(()=>[a(u,{span:24},{default:n(()=>[s("div",Is,[s("div",xs,[s("h2",Us,l(v.value.product_list||"Product List "),1),s("div",null,[a(L,{class:"mx-2",type:"default",onClick:$[0]||($[0]=h=>m.value=!0)},{default:n(()=>[k(l(v.value.add_product||"Add Product"),1)]),_:1}),a(e(ge),{href:w.route("admin.product-log")},{default:n(()=>[a(L,{class:"mx-2",type:"default"},{default:n(()=>[k(l(v.value.product_logs||"Product Logs"),1)]),_:1})]),_:1},8,["href"])])]),w.products?(d(),be(p,{key:0,columns:o.value,"data-source":w.products.data,rowKey:"id",bordered:""},{bodyCell:n(({column:h,record:g,index:x})=>[h.dataIndex==="id"?(d(),c(P,{key:0},[k(l(x+1),1)],64)):_("",!0),h.dataIndex==="image"?(d(),c("div",Ss,[g.thumnail_img?(d(),c("img",{key:0,src:"/storage/"+g.thumnail_img,alt:"thumnail_img",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity"},null,8,Es)):(d(),c("span",Vs,"No Image"))])):_("",!0),h.dataIndex==="name"?(d(),c(P,{key:2},[k(l(g.name),1)],64)):_("",!0),h.dataIndex==="stock"?(d(),c(P,{key:3},[k(l(g.stock),1)],64)):_("",!0),h.dataIndex==="purchase_price"?(d(),c(P,{key:4},[k(l(g.purchase_price),1)],64)):_("",!0),h.dataIndex==="sale_price"?(d(),c(P,{key:5},[k(l(g.sale_price),1)],64)):_("",!0),h.dataIndex==="discount"?(d(),c(P,{key:6},[k(l(g.discount?g.discount+"%":"0%"),1)],64)):_("",!0),h.dataIndex==="final_price"?(d(),c(P,{key:7},[k(l(g.final_price||g.sale_price),1)],64)):_("",!0),h.dataIndex==="category_name"?(d(),c(P,{key:8},[k(l(g.category_name),1)],64)):_("",!0),h.dataIndex==="brand_name"?(d(),c(P,{key:9},[k(l(g.brand_name),1)],64)):h.dataIndex==="created_at"?(d(),c(P,{key:10},[k(l(t(g.created_at)),1)],64)):h.dataIndex==="action"?(d(),c(P,{key:11},[a(B,{placement:"top"},{title:n(()=>[k(l(v.value.delete||"Delete"),1)]),default:n(()=>[a(L,{type:"link",onClick:F=>H(g.id)},{default:n(()=>$[5]||($[5]=[s("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),a(B,{placement:"top"},{title:n(()=>[k(l(v.value.edit||"Edit"),1)]),default:n(()=>[a(L,{type:"link",onClick:F=>O(g)},{default:n(()=>$[6]||($[6]=[s("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024)],64)):_("",!0)]),_:1},8,["columns","data-source"])):_("",!0)])]),_:1})]),_:1}),a(gt,{"is-visible":m.value,categories:w.categories,brands:w.brands,translations:v.value,"onUpdate:isVisible":$[1]||($[1]=h=>m.value=h),onSuccess:$[2]||($[2]=h=>m.value=!1)},null,8,["is-visible","categories","brands","translations"]),a(Ps,{"is-visible":S.value,product:E.value,categories:w.categories,brands:w.brands,translations:v.value,"onUpdate:isVisible":$[3]||($[3]=h=>S.value=h),onSuccess:$[4]||($[4]=h=>S.value=!1)},null,8,["is-visible","product","categories","brands","translations"])]),_:1})],64)}}});export{Ds as default};
