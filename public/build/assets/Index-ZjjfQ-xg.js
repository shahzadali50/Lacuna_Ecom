import{A as be}from"./AdminLayout-9u40qPT2.js";import{d as ae,p as S,C as le,x as Y,c as A,r as f,a as _,o as u,F as T,q as v,e as r,w as c,b as s,t as l,u as t,g as E,v as se,f as re,s as ce,n as ge,m as fe,P as he,l as ye,M as ke}from"./app-CcA_ksXy.js";import{L as ue}from"./loader-circle-DWSG5h6G.js";import{_ as we}from"./Button.vue_vue_type_script_setup_true_lang-BxwVJ8nK.js";import{V as de,D as $e}from"./dataTables.dataTables-CGNyWvWw.js";import{_ as Pe}from"./useFlashMessages-BF4Zurfr.js";import"./ShoppingOutlined-DqSE2FfU.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DyDtqVB0.js";import"./FilterOutlined-DUuJVUE_.js";import"./createLucideIcon-UK47uX5h.js";const Ce={key:0,class:"loading-overlay"},Se={class:"mb-4"},Ue={class:"block"},Ee={key:0,class:"text-red-500"},Ie={class:"mb-4"},Le={class:"block"},Ve={key:0,class:"text-red-500"},xe={class:"mb-4"},je={class:"block"},Ae={key:0,class:"text-red-500"},De={class:"mb-4"},Be={class:"block"},Fe={key:0,class:"text-red-500"},Te={class:"mb-4"},Ne={class:"block"},Oe={key:0,class:"text-red-500"},Re={class:"mb-4"},Me={class:"block"},Ge={key:0,class:"text-red-500"},ze={class:"mb-4"},qe={class:"block"},Ye={key:0,class:"text-red-500"},Je={class:"mb-4"},He={class:"block"},Ke={key:0,class:"text-red-500"},Qe={class:"mb-4"},We={class:"block"},Xe={key:0,class:"text-red-500"},Ze={class:"mb-4"},et={class:"block"},tt={key:0,class:"text-red-500"},st={key:1,class:"mt-2"},at={class:"text-sm text-gray-600 mb-1"},lt=["src"],rt={class:"mb-4"},ot={class:"block"},nt={key:0,class:"text-red-500"},it={key:1,class:"mt-2"},dt={class:"text-sm text-gray-600 mb-1"},ct={class:"flex flex-wrap gap-2"},ut=["src"],pt=["onClick"],_t={class:"mb-4"},mt={class:"flex items-center"},vt={key:0,class:"text-red-500"},bt={class:"mb-4"},gt={class:"block"},ft={key:0,class:"text-red-500"},ht={class:"mb-4"},yt={class:"block font-bold"},kt={class:"text-right"},wt=["disabled"],$t=ae({__name:"AddProduct",props:{isVisible:{type:Boolean},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(J,{emit:x}){const p=J,I=x,L=S(!1),P=S(null),y=S([]),a=le({name:"",description:"",brand_id:null,category_id:null,thumnail_img:null,gallary_img:[],stock:0,status:"active",purchase_price:null,sale_price:null,feature:!1,barcode:"",discount:0,final_price:0});Y(()=>a.category_id,()=>{a.brand_id=null});const e=A(()=>{var o;return((o=p.brands)==null?void 0:o.filter(i=>i.category_id===a.category_id).map(i=>({value:i.id,label:i.name})))||[]}),H=A(()=>{var o;return((o=p.categories)==null?void 0:o.map(i=>({value:i.id,label:i.name})))||[]}),D=(o,i)=>i.label.toLowerCase().includes(o.toLowerCase()),N=o=>{const i=o.target;i.files&&i.files[0]&&(a.thumnail_img=i.files[0],P.value=URL.createObjectURL(i.files[0]))},B=o=>{const i=o.target;if(i.files){const w=Array.from(i.files);a.gallary_img=[...a.gallary_img,...w];const C=w.map(h=>URL.createObjectURL(h));y.value=[...y.value,...C]}},O=(o,i)=>{i.preventDefault(),i.stopPropagation(),a.gallary_img.splice(o,1),y.value.splice(o,1)},R=A(()=>{if(a.sale_price&&a.discount){const o=a.sale_price*a.discount/100;return a.sale_price-o}return a.sale_price});Y([()=>a.sale_price,()=>a.discount],()=>{a.final_price=R.value});const m=()=>{a.post(route("admin.product.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a.reset(),I("update:isVisible",!1),I("success"),P.value=null,y.value=[]},onFinish:()=>{}})};return(o,i)=>{const w=f("a-spin"),C=f("a-select"),h=f("a-col"),U=f("a-row"),k=f("a-input"),V=f("a-input-number"),M=f("a-select-option"),K=f("a-textarea"),Q=f("a-checkbox"),W=f("a-modal");return u(),_(T,null,[L.value?(u(),_("div",Ce,[r(w,{size:"large"})])):v("",!0),r(W,{width:"1000px",open:o.isVisible,title:o.translations.add_product||"Add Product","onUpdate:open":i[12]||(i[12]=g=>o.$emit("update:isVisible",g)),onCancel:i[13]||(i[13]=g=>o.$emit("update:isVisible",!1)),footer:null},{default:c(()=>[s("form",{onSubmit:ce(m,["prevent"])},[r(U,{gutter:16},{default:c(()=>[r(h,{span:12},{default:c(()=>[s("div",Se,[s("label",Ue,l(o.translations.select_category||"Select Category"),1),r(C,{value:t(a).category_id,"onUpdate:value":i[0]||(i[0]=g=>t(a).category_id=g),"show-search":"",placeholder:o.translations.select_category||"Select Category",class:"mt-2 w-full",options:H.value,"filter-option":D},null,8,["value","placeholder","options"]),t(a).errors.category_id?(u(),_("div",Ee,l(t(a).errors.category_id),1)):v("",!0)])]),_:1}),r(h,{span:12},{default:c(()=>[s("div",Ie,[s("label",Le,l(o.translations.select_brand||"Select Brand"),1),r(C,{value:t(a).brand_id,"onUpdate:value":i[1]||(i[1]=g=>t(a).brand_id=g),"show-search":"",placeholder:o.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:e.value,"filter-option":D,disabled:!t(a).category_id},null,8,["value","placeholder","options","disabled"]),t(a).errors.brand_id?(u(),_("div",Ve,l(t(a).errors.brand_id),1)):v("",!0)])]),_:1})]),_:1}),r(U,{gutter:16},{default:c(()=>[r(h,{span:12},{default:c(()=>[s("div",xe,[s("label",je,l(o.translations.enter_product_name||"Enter Product Name"),1),r(k,{value:t(a).name,"onUpdate:value":i[2]||(i[2]=g=>t(a).name=g),class:"mt-2 w-full",placeholder:o.translations.enter_product_name||"Enter Product Name"},null,8,["value","placeholder"]),t(a).errors.name?(u(),_("div",Ae,l(t(a).errors.name),1)):v("",!0)])]),_:1}),r(h,{span:12},{default:c(()=>[s("div",De,[s("label",Be,l(o.translations.enter_barcode||"Enter Barcode"),1),r(k,{value:t(a).barcode,"onUpdate:value":i[3]||(i[3]=g=>t(a).barcode=g),class:"mt-2 w-full",placeholder:o.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),t(a).errors.barcode?(u(),_("div",Fe,l(t(a).errors.barcode),1)):v("",!0)])]),_:1})]),_:1}),r(U,{gutter:16},{default:c(()=>[r(h,{span:12},{default:c(()=>[s("div",Te,[s("label",Ne,l(o.translations.enter_purchase_price||"Enter Purchase Price"),1),r(V,{value:t(a).purchase_price,"onUpdate:value":i[4]||(i[4]=g=>t(a).purchase_price=g),class:"mt-2 w-full",min:0,type:"number",placeholder:o.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),t(a).errors.purchase_price?(u(),_("div",Oe,l(t(a).errors.purchase_price),1)):v("",!0)])]),_:1}),r(h,{span:12},{default:c(()=>[s("div",Re,[s("label",Me,l(o.translations.enter_sale_price||"Sale Price"),1),r(V,{value:t(a).sale_price,"onUpdate:value":i[5]||(i[5]=g=>t(a).sale_price=g),class:"mt-2 w-full",min:0,type:"number",placeholder:o.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),t(a).errors.sale_price?(u(),_("div",Ge,l(t(a).errors.sale_price),1)):v("",!0)])]),_:1})]),_:1}),r(U,{gutter:16},{default:c(()=>[r(h,{span:12},{default:c(()=>[s("div",ze,[s("label",qe,l(o.translations.stock||"Stock"),1),r(V,{value:t(a).stock,"onUpdate:value":i[6]||(i[6]=g=>t(a).stock=g),class:"mt-2 w-full",min:0,placeholder:o.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),t(a).errors.stock?(u(),_("div",Ye,l(t(a).errors.stock),1)):v("",!0)])]),_:1}),r(h,{span:12},{default:c(()=>[s("div",Je,[s("label",He,l(o.translations.select_status||"Select Status"),1),r(C,{value:t(a).status,"onUpdate:value":i[7]||(i[7]=g=>t(a).status=g),class:"mt-2 w-full",placeholder:o.translations.select_status||"Select Status"},{default:c(()=>[r(M,{value:"active"},{default:c(()=>[E(l(o.translations.active||"Active"),1)]),_:1}),r(M,{value:"inactive"},{default:c(()=>[E(l(o.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),t(a).errors.status?(u(),_("div",Ke,l(t(a).errors.status),1)):v("",!0)])]),_:1})]),_:1}),s("div",Qe,[s("label",We,l(o.translations.enter_description||"Enter Description"),1),r(K,{value:t(a).description,"onUpdate:value":i[8]||(i[8]=g=>t(a).description=g),class:"mt-2 w-full",placeholder:o.translations.enter_description||"Enter Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),t(a).errors.description?(u(),_("div",Xe,l(t(a).errors.description),1)):v("",!0)]),r(U,{gutter:16},{default:c(()=>[r(h,{span:12},{default:c(()=>[s("div",Ze,[s("label",et,l(o.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:N,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),t(a).errors.thumnail_img?(u(),_("div",tt,l(t(a).errors.thumnail_img),1)):v("",!0),P.value?(u(),_("div",st,[s("p",at,l(o.translations.preview||"Preview"),1),s("img",{src:P.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,lt)])):v("",!0)])]),_:1}),r(h,{span:12},{default:c(()=>[s("div",rt,[s("label",ot,l(o.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:B,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),t(a).errors.gallary_img?(u(),_("div",nt,l(t(a).errors.gallary_img),1)):v("",!0),y.value.length?(u(),_("div",it,[s("p",dt,l(o.translations.preview||"Preview"),1),s("div",ct,[(u(!0),_(T,null,se(y.value,(g,G)=>(u(),_("div",{key:G,class:"relative"},[s("img",{src:g,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,ut),s("button",{onClick:X=>O(G,X),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},i[14]||(i[14]=[s("i",{class:"fa fa-times"},null,-1)]),8,pt)]))),128))])])):v("",!0)])]),_:1})]),_:1}),s("div",_t,[s("label",mt,[r(Q,{checked:t(a).feature,"onUpdate:checked":i[9]||(i[9]=g=>t(a).feature=g)},{default:c(()=>[E(l(o.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),t(a).errors.feature?(u(),_("div",vt,l(t(a).errors.feature),1)):v("",!0)]),r(U,{gutter:16},{default:c(()=>[r(h,{xs:24,md:12},{default:c(()=>[s("div",bt,[s("label",gt,l(o.translations.enter_discount||"Enter Discount"),1),r(V,{value:t(a).discount,"onUpdate:value":i[10]||(i[10]=g=>t(a).discount=g),class:"mt-2 w-full",min:0,max:100,step:1,type:"number"},null,8,["value"]),t(a).errors.discount?(u(),_("div",ft,l(t(a).errors.discount),1)):v("",!0)])]),_:1}),r(h,{xs:24,md:12},{default:c(()=>[s("div",ht,[s("label",yt,l(o.translations.final_price||"Final Price"),1),r(V,{value:t(a).final_price,"onUpdate:value":i[11]||(i[11]=g=>t(a).final_price=g),class:"mt-2 w-full text-2xl font-bold p-2 text-red-600",min:0,disabled:""},null,8,["value"])])]),_:1})]),_:1}),s("div",kt,[s("button",{type:"submit",class:"btn btn-primary ml-2 w-full h-16 flex items-center justify-center text-lg",disabled:t(a).processing},[t(a).processing?(u(),re(t(ue),{key:0,class:"h-4 w-4 animate-spin"})):v("",!0),E(" "+l(o.translations.save||"Save"),1)],8,wt)])],32)]),_:1},8,["open","title"])],64)}}}),Pt={key:0,class:"loading-overlay"},Ct={class:"mb-4"},St={class:"block"},Ut={key:0,class:"text-red-500"},Et={class:"mb-4"},It={class:"block"},Lt={key:0,class:"text-red-500"},Vt={class:"mb-4"},xt={class:"block"},jt={key:0,class:"text-red-500"},At={class:"mb-4"},Dt={class:"block"},Bt={key:0,class:"text-red-500"},Ft={class:"mb-4"},Tt={class:"block"},Nt={key:0,class:"text-red-500"},Ot={class:"mb-4"},Rt={class:"block"},Mt={key:0,class:"text-red-500"},Gt={class:"mb-4"},zt={class:"block"},qt={key:0,class:"text-red-500"},Yt={class:"mb-4"},Jt={class:"block"},Ht={key:0,class:"text-red-500"},Kt={class:"mb-4"},Qt={class:"block"},Wt={key:0,class:"text-red-500"},Xt={class:"mb-4"},Zt={class:"block"},es={key:0,class:"text-red-500"},ts={class:"mb-4"},ss={class:"block"},as={key:0,class:"text-red-500"},ls={class:"mb-4"},rs={class:"block"},os={key:0,class:"text-red-500"},ns={key:1,class:"mt-2"},is={class:"text-sm text-gray-600 mb-1"},ds=["src"],cs={key:2,class:"mt-2"},us={class:"text-sm text-gray-600 mb-1"},ps=["src"],_s={class:"mb-4"},ms={class:"block"},vs={key:0,class:"text-red-500"},bs={key:1,class:"mt-2"},gs={class:"text-sm text-gray-600 mb-1"},fs={class:"flex flex-wrap gap-2"},hs=["src"],ys=["onClick"],ks={key:2,class:"mt-2"},ws={class:"text-sm text-gray-600 mb-1"},$s={class:"flex flex-wrap gap-2"},Ps=["src"],Cs=["onClick"],Ss={class:"mb-4"},Us={class:"flex items-center"},Es={key:0,class:"text-red-500"},Is={class:"text-right"},Ls=ae({__name:"EditProduct",props:{isVisible:{type:Boolean},product:{},categories:{},brands:{},translations:{}},emits:["update:isVisible","success"],setup(J,{emit:x}){var w,C,h,U,k,V,M,K,Q,W,g,G,X,oe,ne;const p=J,I=x,L=S(!1),P=S(null),y=S([]),a=S([]),e=le({id:((w=p.product)==null?void 0:w.id)||0,name:((C=p.product)==null?void 0:C.name)||"",description:((h=p.product)==null?void 0:h.description)||"",brand_id:((U=p.product)==null?void 0:U.brand_id)||null,category_id:((k=p.product)==null?void 0:k.category_id)||null,thumnail_img:null,gallary_img:[],existing_gallary_img:[],stock:((V=p.product)==null?void 0:V.stock)||0,status:((M=p.product)==null?void 0:M.status)||"active",purchase_price:((K=p.product)==null?void 0:K.purchase_price)||0,sale_price:((Q=p.product)==null?void 0:Q.sale_price)||0,feature:((W=p.product)==null?void 0:W.feature)||!1,barcode:((g=p.product)==null?void 0:g.barcode)||"",discount:((G=p.product)==null?void 0:G.discount)||0,final_price:((X=p.product)==null?void 0:X.final_price)||((oe=p.product)==null?void 0:oe.sale_price)||0});if((ne=p.product)!=null&&ne.gallary_img)try{const n=JSON.parse(p.product.gallary_img);a.value=n,e.existing_gallary_img=n}catch(n){console.error("Error parsing gallery images:",n),a.value=[],e.existing_gallary_img=[]}Y(()=>p.isVisible,n=>{if(n&&p.product&&(e.reset(),e.id=p.product.id,e.name=p.product.name,e.description=p.product.description,e.brand_id=p.product.brand_id,e.category_id=p.product.category_id,e.stock=p.product.stock,e.status=p.product.status,e.purchase_price=p.product.purchase_price,e.sale_price=p.product.sale_price,e.feature=p.product.feature,e.barcode=p.product.barcode,e.discount=p.product.discount,e.final_price=p.product.final_price||p.product.sale_price,P.value=null,y.value=[],p.product.gallary_img))try{const d=JSON.parse(p.product.gallary_img);a.value=d,e.existing_gallary_img=d}catch(d){console.error("Error parsing gallery images:",d),a.value=[],e.existing_gallary_img=[]}},{immediate:!0}),Y(()=>e.category_id,()=>{const n=p.brands.data.filter(d=>d.category_id===e.category_id);e.brand_id=n.length>0?n[0].id:null});const D=A(()=>{var n;return((n=p.brands.data)==null?void 0:n.filter(d=>d.category_id===e.category_id).map(d=>({value:d.id,label:d.name})))||[]}),N=A(()=>{var n;return((n=p.categories.data)==null?void 0:n.map(d=>({value:d.id,label:d.name})))||[]}),B=(n,d)=>d.label.toLowerCase().includes(n.toLowerCase()),O=n=>{const d=n.target;d.files&&d.files[0]&&(e.thumnail_img=d.files[0],P.value=URL.createObjectURL(d.files[0]))},R=n=>{const d=n.target;if(d.files){const j=Array.from(d.files);e.gallary_img=[...e.gallary_img,...j];const Z=j.map($=>URL.createObjectURL($));y.value=[...y.value,...Z]}},m=(n,d)=>{if(d.preventDefault(),d.stopPropagation(),n<a.value.length)a.value.splice(n,1),e.existing_gallary_img=[...a.value];else{const j=n-a.value.length;e.gallary_img.splice(j,1),y.value.splice(j,1)}},o=A(()=>{if(e.sale_price&&e.discount){const n=e.sale_price*e.discount/100;return e.sale_price-n}return e.sale_price||0});Y([()=>e.sale_price,()=>e.discount],()=>{e.final_price=o.value});const i=()=>{L.value=!0,e.post(route("admin.product.update",{id:e.id}),{onSuccess:()=>{I("update:isVisible",!1),I("success"),P.value=null,y.value=[]},onFinish:()=>{L.value=!1}})};return(n,d)=>{const j=f("a-spin"),Z=f("a-input"),$=f("a-col"),F=f("a-row"),ee=f("a-select"),z=f("a-input-number"),ie=f("a-select-option"),pe=f("a-textarea"),_e=f("a-checkbox"),me=f("a-button"),ve=f("a-modal");return u(),_(T,null,[L.value?(u(),_("div",Pt,[r(j,{size:"large"})])):v("",!0),r(ve,{width:"1000px",style:{top:"20px"},open:n.isVisible,title:n.translations.edit_product||"Edit Product","onUpdate:open":d[13]||(d[13]=b=>n.$emit("update:isVisible",b)),onCancel:d[14]||(d[14]=b=>n.$emit("update:isVisible",!1)),footer:null},{default:c(()=>[s("form",{onSubmit:ce(i,["prevent"]),enctype:"multipart/form-data"},[r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>[s("div",Ct,[s("label",St,l(n.translations.name||"Name"),1),r(Z,{value:t(e).name,"onUpdate:value":d[0]||(d[0]=b=>t(e).name=b),class:"mt-2 w-full",placeholder:n.translations.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),t(e).errors.name?(u(),_("div",Ut,l(t(e).errors.name),1)):v("",!0)])]),_:1}),r($,{span:12},{default:c(()=>[s("div",Et,[s("label",It,l(n.translations.barcode||"Barcode"),1),r(Z,{value:t(e).barcode,"onUpdate:value":d[1]||(d[1]=b=>t(e).barcode=b),class:"mt-2 w-full",placeholder:n.translations.enter_barcode||"Enter Barcode"},null,8,["value","placeholder"]),t(e).errors.barcode?(u(),_("div",Lt,l(t(e).errors.barcode),1)):v("",!0)])]),_:1})]),_:1}),r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>[s("div",Vt,[s("label",xt,l(n.translations.category||"Category"),1),r(ee,{value:t(e).category_id,"onUpdate:value":d[2]||(d[2]=b=>t(e).category_id=b),"show-search":"",placeholder:n.translations.select_category||"Select Category",class:"mt-2 w-full",options:N.value,"filter-option":B},null,8,["value","placeholder","options"]),t(e).errors.category_id?(u(),_("div",jt,l(t(e).errors.category_id),1)):v("",!0)])]),_:1}),r($,{span:12},{default:c(()=>[s("div",At,[s("label",Dt,l(n.translations.brand||"Brand"),1),r(ee,{value:t(e).brand_id,"onUpdate:value":d[3]||(d[3]=b=>t(e).brand_id=b),"show-search":"",placeholder:n.translations.select_brand||"Select Brand",class:"mt-2 w-full",options:D.value,"filter-option":B,disabled:!t(e).category_id},null,8,["value","placeholder","options","disabled"]),t(e).errors.brand_id?(u(),_("div",Bt,l(t(e).errors.brand_id),1)):v("",!0)])]),_:1})]),_:1}),r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>[s("div",Ft,[s("label",Tt,l(n.translations.purchase_price||"Purchase Price"),1),r(z,{value:t(e).purchase_price,"onUpdate:value":d[4]||(d[4]=b=>t(e).purchase_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:n.translations.enter_purchase_price||"Enter Purchase Price"},null,8,["value","placeholder"]),t(e).errors.purchase_price?(u(),_("div",Nt,l(t(e).errors.purchase_price),1)):v("",!0)])]),_:1}),r($,{span:12},{default:c(()=>[s("div",Ot,[s("label",Rt,l(n.translations.sale_price||"Sale Price"),1),r(z,{value:t(e).sale_price,"onUpdate:value":d[5]||(d[5]=b=>t(e).sale_price=b),class:"mt-2 w-full",min:0,step:.01,placeholder:n.translations.enter_sale_price||"Enter Sale Price"},null,8,["value","placeholder"]),t(e).errors.sale_price?(u(),_("div",Mt,l(t(e).errors.sale_price),1)):v("",!0)])]),_:1})]),_:1}),r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>[s("div",Gt,[s("label",zt,l(n.translations.discount||"Discount (%)"),1),r(z,{value:t(e).discount,"onUpdate:value":d[6]||(d[6]=b=>t(e).discount=b),class:"mt-2 w-full",min:0,max:100,step:1,placeholder:n.translations.enter_discount||"Enter Discount"},null,8,["value","placeholder"]),t(e).errors.discount?(u(),_("div",qt,l(t(e).errors.discount),1)):v("",!0)])]),_:1}),r($,{span:12},{default:c(()=>[s("div",Yt,[s("label",Jt,l(n.translations.final_price||"Final Price"),1),r(z,{value:t(e).final_price,"onUpdate:value":d[7]||(d[7]=b=>t(e).final_price=b),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"]),t(e).errors.final_price?(u(),_("div",Ht,l(t(e).errors.final_price),1)):v("",!0)])]),_:1})]),_:1}),r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>[s("div",Kt,[s("label",Qt,l(n.translations.stock||"Stock"),1),r(z,{value:t(e).stock,"onUpdate:value":d[8]||(d[8]=b=>t(e).stock=b),class:"mt-2 w-full",min:0,placeholder:n.translations.enter_stock||"Enter Stock"},null,8,["value","placeholder"]),t(e).errors.stock?(u(),_("div",Wt,l(t(e).errors.stock),1)):v("",!0)])]),_:1}),r($,{span:12},{default:c(()=>[s("div",Xt,[s("label",Zt,l(n.translations.status||"Status"),1),r(ee,{value:t(e).status,"onUpdate:value":d[9]||(d[9]=b=>t(e).status=b),class:"mt-2 w-full",placeholder:n.translations.select_status||"Select Status"},{default:c(()=>[r(ie,{value:"active"},{default:c(()=>[E(l(n.translations.active||"Active"),1)]),_:1}),r(ie,{value:"inactive"},{default:c(()=>[E(l(n.translations.inactive||"Inactive"),1)]),_:1})]),_:1},8,["value","placeholder"]),t(e).errors.status?(u(),_("div",es,l(t(e).errors.status),1)):v("",!0)])]),_:1})]),_:1}),s("div",ts,[s("label",ss,l(n.translations.description||"Description"),1),r(pe,{value:t(e).description,"onUpdate:value":d[10]||(d[10]=b=>t(e).description=b),class:"mt-2 w-full",placeholder:n.translations.enter_description||"Description","auto-size":{minRows:3,maxRows:6}},null,8,["value","placeholder"]),t(e).errors.description?(u(),_("div",as,l(t(e).errors.description),1)):v("",!0)]),r(F,{gutter:16},{default:c(()=>[r($,{span:12},{default:c(()=>{var b;return[s("div",ls,[s("label",rs,l(n.translations.thumbnail_image||"Thumbnail Image"),1),s("input",{type:"file",onChange:O,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),t(e).errors.thumnail_img?(u(),_("div",os,l(t(e).errors.thumnail_img),1)):v("",!0),P.value?(u(),_("div",ns,[s("p",is,l(n.translations.preview||"Preview"),1),s("img",{src:P.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,ds)])):(b=n.product)!=null&&b.thumnail_img?(u(),_("div",cs,[s("p",us,l(n.translations.current_image||"Current Image"),1),s("img",{src:"/storage/"+n.product.thumnail_img,alt:"Current Thumbnail",class:"w-24 h-24 object-cover rounded border"},null,8,ps)])):v("",!0)])]}),_:1}),r($,{span:12},{default:c(()=>[s("div",_s,[s("label",ms,l(n.translations.gallery_images||"Gallery Images"),1),s("input",{type:"file",multiple:"",onChange:R,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),t(e).errors.gallary_img?(u(),_("div",vs,l(t(e).errors.gallary_img),1)):v("",!0),a.value.length?(u(),_("div",bs,[s("p",gs,l(n.translations.current_images||"Current Images"),1),s("div",fs,[(u(!0),_(T,null,se(a.value,(b,q)=>(u(),_("div",{key:"existing-"+q,class:"relative"},[s("img",{src:"/storage/"+b,alt:"Current Gallery Image",class:"w-24 h-24 object-cover rounded border"},null,8,hs),s("button",{onClick:te=>m(q,te),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},d[15]||(d[15]=[s("i",{class:"fa fa-times"},null,-1)]),8,ys)]))),128))])])):v("",!0),y.value.length?(u(),_("div",ks,[s("p",ws,l(n.translations.preview||"Preview"),1),s("div",$s,[(u(!0),_(T,null,se(y.value,(b,q)=>(u(),_("div",{key:"new-"+q,class:"relative"},[s("img",{src:b,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Ps),s("button",{onClick:te=>m(a.value.length+q,te),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",type:"button"},d[16]||(d[16]=[s("i",{class:"fa fa-times"},null,-1)]),8,Cs)]))),128))])])):v("",!0)])]),_:1})]),_:1}),s("div",Ss,[s("label",Us,[r(_e,{checked:t(e).feature,"onUpdate:checked":d[11]||(d[11]=b=>t(e).feature=b)},{default:c(()=>[E(l(n.translations.featured||"Featured"),1)]),_:1},8,["checked"])]),t(e).errors.feature?(u(),_("div",Es,l(t(e).errors.feature),1)):v("",!0)]),s("div",Is,[r(me,{type:"default",onClick:d[12]||(d[12]=b=>n.$emit("update:isVisible",!1))},{default:c(()=>[E(l(n.translations.cancel||"Cancel"),1)]),_:1}),r(t(we),{type:"submit",class:"btn-primary ml-2",disabled:t(e).processing},{default:c(()=>[t(e).processing?(u(),re(t(ue),{key:0,class:"h-4 w-4 animate-spin"})):v("",!0),E(" "+l(n.translations.update||"Update"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["open","title"])],64)}}}),Vs={key:0,class:"loading-overlay"},xs={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},js={class:"mb-4 flex items-center justify-between"},As={class:"text-lg font-semibold"},Ds={class:"flex justify-center p-4"},Bs=["src"],Fs=ae({__name:"Index",props:{products:{},brands:{},categories:{}},setup(J){de.use($e);const x=S(!1),p=S(!1),I=S(!1),L=S(!1),P=S(""),y=S(null),a=ge(),e=A(()=>{var m;return((m=a.props.translations)==null?void 0:m.dashboard_all_pages)||{}}),H=m=>m?ye(m).format("DD-MM-YYYY hh:mm A"):"N/A",D=[{title:e.value.sr||"Sr.",data:null,render:(m,o,i,w)=>w.row+1},{title:e.value.image||"Image",data:"thumnail_img",orderable:!1,render:m=>m?`<img src="/storage/${m}" class="w-12 h-12 object-cover rounded mb-1 cursor-pointer" style="display:inline-block;" />`:'<span class="text-gray-400 mb-1">No Image</span>'},{title:e.value.name||"Name",data:"name"},{title:e.value.stock||"Stock",data:"stock"},{title:e.value.purchase_price||"Purchase Price",data:"purchase_price"},{title:e.value.sale_price||"Sale Price",data:"sale_price"},{title:e.value.discount||"Discount",data:"discount",render:m=>m?`${m}%`:"0%"},{title:e.value.final_price||"Final Price",data:"final_price"},{title:e.value.category||"Category",data:"category_name"},{title:e.value.brand||"Brand",data:"brand_name"},{title:e.value.created_at||"Created At",data:"created_at",render:m=>H(m)},{title:e.value.action||"Action",data:null,orderable:!1,render:(m,o,i)=>`
            <button class="edit-btn p-2" data-id="${i.id}" title="${e.value.edit||"Edit"}">
                <i class="fa fa-pencil-square-o text-green-500"></i>
            </button>
            <button class="delete-btn p-2" data-id="${i.id}" title="${e.value.delete||"Delete"}">
                <i class="fa fa-trash text-red-500"></i>
            </button>
        `}],N={paging:!0,searching:!0,ordering:!0,responsive:!0,pageLength:10,createdRow:(m,o)=>{setTimeout(()=>{var i,w,C;(i=m.querySelector(".edit-btn"))==null||i.addEventListener("click",()=>O(o)),(w=m.querySelector(".delete-btn"))==null||w.addEventListener("click",()=>B(o.id)),(C=m.querySelector("img"))==null||C.addEventListener("click",()=>{o.thumnail_img&&R(o.thumnail_img)})},0)}},B=m=>{ke.confirm({title:e.value.confirm_delete_title||"Are you sure you want to delete",content:e.value.delete_product_warning||"This action cannot be undone.",okText:e.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:e.value.confirm_delete_cancel||"Cancel",onOk(){x.value=!0,le({}).delete(route("admin.product.delete",{id:m}),{onSuccess:()=>{},onFinish:()=>{x.value=!1}})}})},O=m=>{y.value=m,I.value=!0},R=m=>{P.value="/storage/"+m,L.value=!0};return(m,o)=>{const i=f("a-spin"),w=f("a-button"),C=f("a-col"),h=f("a-row"),U=f("a-modal");return u(),_(T,null,[x.value?(u(),_("div",Vs,[r(i,{size:"large"})])):v("",!0),r(be,null,{default:c(()=>[r(t(fe),{title:e.value.product_title||"Product List"},null,8,["title"]),r(h,null,{default:c(()=>[r(C,{span:24},{default:c(()=>{var k;return[s("div",xs,[s("div",js,[s("h2",As,l(e.value.product_title||"Product List"),1),s("div",null,[r(w,{onClick:o[0]||(o[0]=V=>p.value=!0),type:"default"},{default:c(()=>[E(l(e.value.add_product||"Add Product"),1)]),_:1}),r(t(he),{href:m.route("admin.product-log")},{default:c(()=>[r(w,{type:"default"},{default:c(()=>[E(l(e.value.product_logs||"Product Logs"),1)]),_:1})]),_:1},8,["href"])])]),(k=m.products)!=null&&k.data?(u(),re(t(de),{key:0,data:m.products.data,columns:D,options:N,class:"display"},{default:c(()=>[s("thead",null,[s("tr",null,[s("th",null,l(e.value.sr||"Sr."),1),s("th",null,l(e.value.image||"Image"),1),s("th",null,l(e.value.name||"Name"),1),s("th",null,l(e.value.stock||"Stock"),1),s("th",null,l(e.value.purchase_price||"Purchase Price"),1),s("th",null,l(e.value.sale_price||"Sale Price"),1),s("th",null,l(e.value.discount||"Discount"),1),s("th",null,l(e.value.final_price||"Final Price"),1),s("th",null,l(e.value.category||"Category"),1),s("th",null,l(e.value.brand||"Brand"),1),s("th",null,l(e.value.created_at||"Created At"),1),s("th",null,l(e.value.action||"Action"),1)])]),o[7]||(o[7]=s("tbody",null,null,-1))]),_:1},8,["data"])):v("",!0)])]}),_:1})]),_:1}),r($t,{"is-visible":p.value,categories:m.categories.data,brands:m.brands.data,translations:e.value,"onUpdate:isVisible":o[1]||(o[1]=k=>p.value=k),onSuccess:o[2]||(o[2]=k=>p.value=!1)},null,8,["is-visible","categories","brands","translations"]),r(Ls,{"is-visible":I.value,product:y.value,categories:m.categories,brands:m.brands,translations:e.value,"onUpdate:isVisible":o[3]||(o[3]=k=>I.value=k),onSuccess:o[4]||(o[4]=k=>I.value=!1)},null,8,["is-visible","product","categories","brands","translations"]),r(U,{open:L.value,"onUpdate:open":o[5]||(o[5]=k=>L.value=k),title:e.value.preview||"Image Preview",onCancel:o[6]||(o[6]=k=>L.value=!1),footer:null,width:"600px"},{default:c(()=>[s("div",Ds,[s("img",{src:P.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,Bs)])]),_:1},8,["open","title"])]),_:1})],64)}}}),Hs=Pe(Fs,[["__scopeId","data-v-9b954f91"]]);export{Hs as default};
