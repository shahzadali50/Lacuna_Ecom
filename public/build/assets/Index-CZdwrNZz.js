import{A as Y}from"./AdminLayout-XvtiTBIW.js";import{d as j,n as B,p as h,r as p,f as c,o as i,w as l,e as r,u as f,m as M,q as y,b as t,a as _,F as v,g as n,t as s,aD as E,v as F,l as q}from"./app-BiURQSQB.js";import"./ShoppingOutlined-B5jHnSQt.js";import"./useFlashMessages-DPoNXTM3.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-D3hh0Vw6.js";import"./FilterOutlined-tfRx2fuk.js";const $={class:"bg-white rounded-lg p-4 shadow-md responsive-table"},z={class:"mb-4"},K={class:"mb-2"},Q={class:"mb-2"},U={class:"mb-2"},G={class:"mb-2"},H={class:"mb-2"},J={class:"mb-2"},R={class:"mb-2"},W={class:"mb-2"},X={key:0,class:"mt-2"},Z={class:"mb-2"},tt={class:"mb-2 overflow-x-auto"},et={class:"table-auto w-full min-w-[600px]"},st={class:"py-2"},ot={class:"py-2"},at=["src","alt"],lt={class:"py-2"},nt={class:"py-2"},dt={class:"py-2"},rt={class:"py-2"},it={class:"my-3"},ut={class:"mb-2"},pt={class:"font-bold text-primary"},mt={class:"mb-2"},ct={class:"font-bold text-primary"},kt=j({__name:"Index",props:{orders:Object},setup(k){const C=u=>u?q(u).format("DD-MM-YYYY hh:mm A"):"N/A",w=B(),I=[{title:"ID",dataIndex:"id",key:"id"},{title:"Order ID",dataIndex:"order_id",key:"order_id"},{title:"Status",dataIndex:"status",key:"status"},{title:"Total Price",dataIndex:"total_price",key:"total_price"},{title:"Created At",dataIndex:"created_at",key:"created_at"},{title:"Action",dataIndex:"action",key:"action"}],b=h(!1),d=h(null),O=u=>{d.value=u,b.value=!0},D=u=>{switch(u==null?void 0:u.toLowerCase()){case"pending":return"orange";case"processing":return"blue";case"completed":return"green";case"cancelled":return"red";default:return"default"}};return(u,e)=>{const S=p("a-result"),m=p("a-col"),V=p("a-badge"),A=p("a-tag"),N=p("a-button"),P=p("a-tooltip"),L=p("a-table"),x=p("a-row"),T=p("a-modal");return i(),c(Y,null,{default:l(()=>[r(f(M),{title:"Order List"}),r(x,null,{default:l(()=>[r(m,{span:24},{default:l(()=>{var o;return[(o=f(w).props.flash)!=null&&o.success?(i(),c(S,{key:0,status:"success",title:f(w).props.flash.success},null,8,["title"])):y("",!0)]}),_:1}),r(m,{span:24},{default:l(()=>[t("div",$,[e[3]||(e[3]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h2",{class:"text-lg font-semibold"},"Order List")],-1)),k.orders?(i(),c(L,{key:0,columns:I,"data-source":k.orders.data,rowKey:"id"},{bodyCell:l(({column:o,record:a,index:g})=>[o.dataIndex==="id"?(i(),_(v,{key:0},[n(s(g+1),1)],64)):o.dataIndex==="order_id"?(i(),c(V,{key:1,count:a.order_id,"number-style":{backgroundColor:"#1890ff"}},null,8,["count"])):o.dataIndex==="status"?(i(),c(A,{key:2,color:D(a.status)},{default:l(()=>[n(s(a.status),1)]),_:2},1032,["color"])):o.dataIndex==="total_price"?(i(),_(v,{key:3},[n(s(Math.floor(a.total_price)),1)],64)):o.dataIndex==="created_at"?(i(),_(v,{key:4},[n(s(C(a.created_at)),1)],64)):o.dataIndex==="action"?(i(),c(P,{key:5,placement:"top"},{title:l(()=>e[2]||(e[2]=[n("Order View")])),default:l(()=>[r(N,{type:"link",onClick:_t=>O(a)},{default:l(()=>[r(f(E),{style:{"font-size":"20px"}})]),_:2},1032,["onClick"])]),_:2},1024)):y("",!0)]),_:1},8,["data-source"])):y("",!0)])]),_:1})]),_:1}),r(T,{width:"700px",open:b.value,"onUpdate:open":e[0]||(e[0]=o=>b.value=o),title:"Order Preview",onCancel:e[1]||(e[1]=o=>b.value=!1),footer:null},{default:l(()=>[r(x,null,{default:l(()=>[r(m,{xs:24},{default:l(()=>[t("div",z,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold mb-3"},"Shipping Details",-1)),r(x,{gutter:16},{default:l(()=>[r(m,{xs:24,sm:12},{default:l(()=>[t("p",K,[e[4]||(e[4]=t("span",{class:"font-semibold"},"Name:",-1)),n(" "+s(d.value.name),1)]),t("p",Q,[e[5]||(e[5]=t("span",{class:"font-semibold"},"Phone:",-1)),n(" "+s(d.value.phone_number),1)]),t("p",U,[e[6]||(e[6]=t("span",{class:"font-semibold"},"Email:",-1)),n(" "+s(d.value.email),1)])]),_:1}),r(m,{xs:24,sm:12},{default:l(()=>[t("p",G,[e[7]||(e[7]=t("span",{class:"font-semibold"},"Address:",-1)),n(" "+s(d.value.address),1)]),t("p",H,[e[8]||(e[8]=t("span",{class:"font-semibold"},"City:",-1)),n(" "+s(d.value.city),1)]),t("p",J,[e[9]||(e[9]=t("span",{class:"font-semibold"},"State:",-1)),n(" "+s(d.value.state),1)]),t("p",R,[e[10]||(e[10]=t("span",{class:"font-semibold"},"Postal Code:",-1)),n(" "+s(d.value.postal_code),1)]),t("p",W,[e[11]||(e[11]=t("span",{class:"font-semibold"},"Country:",-1)),n(" "+s(d.value.country),1)])]),_:1})]),_:1}),d.value.order_notes?(i(),_("div",X,[t("p",Z,[e[12]||(e[12]=t("span",{class:"font-semibold"},"Order Notes:",-1)),n(" "+s(d.value.order_notes),1)])])):y("",!0)])]),_:1}),r(m,{xs:24},{default:l(()=>{var o;return[t("div",tt,[e[15]||(e[15]=t("div",{class:"border-gray-500 border my-4"},null,-1)),t("table",et,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"text-left"},[t("th",null,"Sr"),t("th",null,"Image"),t("th",null,"Product"),t("th",null,"Price"),t("th",null,"QTY"),t("th",null,"Total")])],-1)),t("tbody",null,[(i(!0),_(v,null,F((o=d.value)==null?void 0:o.sale_products,(a,g)=>(i(),_("tr",{key:a.id,class:"border-b py-3"},[t("td",st,s(g+1),1),t("td",ot,[t("img",{src:"/storage/"+a.product.thumnail_img,alt:a.product.name,class:"w-16 h-16 object-cover rounded"},null,8,at)]),t("td",lt,s(a.product.name),1),t("td",nt,s(a.sale_price),1),t("td",dt,s(a.qty),1),t("td",rt,s(a.total_price),1)]))),128))])])])]}),_:1}),r(m,{xs:24},{default:l(()=>{var o,a;return[e[19]||(e[19]=t("div",{class:"border-gray-500 border my-4"},null,-1)),t("div",it,[t("h4",ut,[e[16]||(e[16]=n("Subtotal: ")),t("span",pt,s((o=d.value)==null?void 0:o.subtotal_price),1)]),e[18]||(e[18]=t("h4",{class:"mb-2"},[n("Shipping Charges: "),t("span",{class:"font-bold text-primary"},"Free Delivery")],-1)),t("h4",mt,[e[17]||(e[17]=n("Total Price: ")),t("span",ct,s((a=d.value)==null?void 0:a.total_price),1)])])]}),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}});export{kt as default};
