import{d as D,n as w,c as x,C as F,r as u,f as p,o as c,w as r,e as s,b as e,u as t,m as L,q as _,a as m,P as C,g as f,Q as V,R as S,L as b,t as o,s as $,F as R,v as M,N as T}from"./app-C3cv932K.js";import{a as U,_ as Y}from"./UserLayout.vue_vue_type_script_setup_true_lang-_HrKvaZR.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-rfk3fbwv.js";import{S as A}from"./ShoppingCartOutlined-D6CVJF7g.js";import{L as E}from"./loader-circle-D_1JeGfA.js";import{S as G}from"./ShoppingOutlined-C7pNBmAl.js";import"./useFlashMessages-b8Ba9dgn.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CeFgjxFS.js";import"./createLucideIcon-Ql6t7ncz.js";const I={class:"py-14"},K={class:"container mx-auto px-2 sm:px-4"},Q={class:"text-center"},z={class:"text-gray-500 text-2xl"},H={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},J={class:"list-disc list-inside text-red-600"},W={key:0,class:"text-red-500"},X={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},Z={class:""},ee={class:"flex items-center"},te={class:"text-gray-500 text-sm ml-6"},se={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},ae={class:"flex justify-between mb-4 border-b py-4"},oe={class:"font-medium"},re={class:"font-bold text-primary"},ne={class:"flex justify-between mb-4 border-b py-4"},le={class:"font-medium"},ie={class:"font-bold text-primary"},ce={class:"flex justify-between mb-4"},de={class:"font-medium"},me={class:"font-bold text-primary"},ke=D({__name:"CartPayment",setup(ue){const y=w(),l=x(()=>{var i;return((i=y.props.translations)==null?void 0:i.cart_checkout)||{}}),h=x(()=>w().props.cart||[]),v=x(()=>h.value.reduce((i,a)=>i+a.total_price,0)),g=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(i),n=F({payment_method:""}),O=()=>{n.post(route("order.generate"),{onSuccess:()=>{n.reset()}})};return(i,a)=>{const P=u("a-alert"),j=u("a-radio"),N=u("a-radio-group"),B=u("a-button");return c(),p(Y,null,{default:r(()=>{var k;return[s(t(L),{title:"Payment"}),e("section",I,[e("div",K,[s(t(C),{href:i.route("cart.checkout"),class:"flex items-center mb-2"},{default:r(()=>[s(t(V)),a[2]||(a[2]=f("Back"))]),_:1},8,["href"]),(k=t(y).props.flash)!=null&&k.success?(c(),p(P,{key:0,message:t(y).props.flash.success,type:"success","show-icon":""},null,8,["message"])):_("",!0),!h.value||h.value.length===0?(c(),p(t(S),{key:1,class:"py-10"},{default:r(()=>[s(t(b),{span:"24"},{default:r(()=>[e("div",Q,[s(t(A),{class:"text-7xl text-gray-400 mb-4"}),e("h4",z,o(l.value.cart_empty||"Your cart is empty"),1),s(t(C),{href:i.route("home"),class:"inline-block mt-4"},{default:r(()=>[s(t(q),null,{default:r(()=>[f(o(l.value.continue_shopping||"Continue Shopping"),1)]),_:1})]),_:1},8,["href"])])]),_:1})]),_:1})):(c(),m("form",{key:2,class:"w-full",onSubmit:a[1]||(a[1]=$(d=>O(),["prevent"]))},[Object.keys(t(n).errors).length>0?(c(),m("div",H,[e("ul",J,[(c(!0),m(R,null,M(Object.values(t(n).errors),d=>(c(),m("li",{key:d,class:"mb-1"},o(d),1))),128))])])):_("",!0),s(t(S),{class:"justify-between px-6"},{default:r(()=>[s(t(b),{xs:24,md:10,class:"mb-5"},{default:r(()=>[e("div",null,[a[4]||(a[4]=e("h1",{class:"text-5xl font-bold text-green-800 mb-6 flex items-center gap-2"}," 2. ",-1)),t(n).errors.payment_method?(c(),m("div",W,o(t(n).errors.payment_method),1)):_("",!0),e("h1",X,o(l.value.payment_method||"Payment Method"),1),e("div",Z,[e("div",ee,[s(N,{value:t(n).payment_method,"onUpdate:value":a[0]||(a[0]=d=>t(n).payment_method=d),class:"ml-2"},{default:r(()=>[s(j,{value:"Cash On Delivery"},{default:r(()=>[f(o(l.value.cash_on_delivery||"Cash On Delivery"),1)]),_:1})]),_:1},8,["value"])]),e("p",te,o(l.value.pay_cash_on_delivery||"Pay with cash upon delivery."),1)]),e("div",null,[s(B,{"html-type":"submit",class:"w-full btn-primary mt-5 flex items-center justify-center py-4",disabled:t(n).processing},T({default:r(()=>[t(n).processing?(c(),p(t(E),{key:0,class:"h-4 w-4 animate-spin mr-2"})):_("",!0),a[3]||(a[3]=f(" Save "))]),_:2},[t(n).processing?void 0:{name:"icon",fn:r(()=>[s(t(G))]),key:"0"}]),1032,["disabled"])])])]),_:1}),s(t(b),{xs:24,md:10,class:"mb-5"},{default:r(()=>[e("div",null,[a[5]||(a[5]=e("h1",{class:"text-5xl font-bold text-white mb-6 flex items-center gap-2"}," 2. ",-1)),e("h1",se,o(l.value.check_your_order||"Check Your Order"),1)]),s(U),e("div",ae,[e("span",oe,o(l.value.subtotal||"Subtotal"),1),e("span",re,o(g(v.value)),1)]),e("div",ne,[e("span",le,o(l.value.shipping_charge||"Shipping"),1),e("span",ie,o(l.value.free_delivery||"Free Delivery"),1)]),e("div",ce,[e("span",de,o(l.value.total||"Total")+":",1),e("span",me,o(g(v.value)),1)])]),_:1})]),_:1})],32))])])]}),_:1})}}});export{ke as default};
