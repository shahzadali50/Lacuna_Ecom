import{d as D,n as w,c as h,C as F,r as u,f as p,o as d,w as a,e as o,b as t,u as e,m as L,q as _,a as m,P as S,g as f,Q as V,R as C,L as b,t as r,s as R,F as $,v as M,N as T}from"./app-VVkud6op.js";import{_ as U}from"./UserLayout.vue_vue_type_script_setup_true_lang-Byo6Nr3y.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-WUT9aqrp.js";import{S as A}from"./ShoppingCartOutlined-B-vjMkdm.js";import{L as E}from"./loader-circle-BoYA6sZc.js";import{S as G}from"./ShoppingOutlined-BhaLrdoL.js";import"./useFlashMessages-Bx4CaKWw.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DB6xzimC.js";import"./createLucideIcon-DBYMJZuK.js";const I={class:"py-14"},K={class:"container mx-auto px-2 sm:px-4"},Q={class:"text-center"},Y={class:"text-gray-500 text-2xl"},z={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},H={class:"list-disc list-inside text-red-600"},J={key:0,class:"text-red-500"},W={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},X={class:""},Z={class:"flex items-center"},ee={class:"text-gray-500 text-sm ml-6"},te={class:"flex justify-between mb-4 border-b py-4"},se={class:"font-bold"},oe={class:"font-bold text-slate-500"},ae={class:"flex justify-between mb-4 border-b py-4"},re={class:"font-bold"},ne={class:"font-bold text-slate-500"},le={class:"flex justify-between mb-4"},ie={class:"font-bold"},de={class:"font-bold text-slate-500"},ve=D({__name:"CartPayment",setup(ce){const y=w(),i=h(()=>{var l;return((l=y.props.translations)==null?void 0:l.cart_checkout)||{}}),x=h(()=>w().props.cart||[]),v=h(()=>x.value.reduce((l,s)=>l+s.total_price,0)),g=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(l),n=F({payment_method:""}),O=()=>{n.post(route("order.generate"),{onSuccess:()=>{n.reset()}})};return(l,s)=>{const P=u("a-alert"),j=u("a-radio"),N=u("a-radio-group"),B=u("a-button");return d(),p(U,null,{default:a(()=>{var k;return[o(e(L),{title:"Payment"}),t("section",I,[t("div",K,[o(e(S),{href:l.route("cart.checkout"),class:"flex items-center mb-2"},{default:a(()=>[o(e(V)),s[2]||(s[2]=f("Back"))]),_:1},8,["href"]),(k=e(y).props.flash)!=null&&k.success?(d(),p(P,{key:0,class:"my-1",message:e(y).props.flash.success,type:"success","show-icon":""},null,8,["message"])):_("",!0),!x.value||x.value.length===0?(d(),p(e(C),{key:1,class:"py-10"},{default:a(()=>[o(e(b),{span:"24"},{default:a(()=>[t("div",Q,[o(e(A),{class:"text-7xl text-gray-400 mb-4"}),t("h4",Y,r(i.value.cart_empty||"Your cart is empty"),1),o(e(S),{href:l.route("home"),class:"inline-block mt-4"},{default:a(()=>[o(e(q),null,{default:a(()=>[f(r(i.value.continue_shopping||"Continue Shopping"),1)]),_:1})]),_:1},8,["href"])])]),_:1})]),_:1})):(d(),m("form",{key:2,class:"w-full",onSubmit:s[1]||(s[1]=R(c=>O(),["prevent"]))},[Object.keys(e(n).errors).length>0?(d(),m("div",z,[t("ul",H,[(d(!0),m($,null,M(Object.values(e(n).errors),c=>(d(),m("li",{key:c,class:"mb-1"},r(c),1))),128))])])):_("",!0),o(e(C),{class:"justify-between px-6"},{default:a(()=>[o(e(b),{xs:24,md:10,class:"mb-5 order-2 md:order-1"},{default:a(()=>[t("div",null,[s[4]||(s[4]=t("h1",{class:"text-5xl font-bold text-green-800 mb-6 flex items-center gap-2"}," 2. ",-1)),e(n).errors.payment_method?(d(),m("div",J,r(e(n).errors.payment_method),1)):_("",!0),t("h1",W,r(i.value.payment_method||"Payment Method"),1),t("div",X,[t("div",Z,[o(N,{value:e(n).payment_method,"onUpdate:value":s[0]||(s[0]=c=>e(n).payment_method=c),class:"ml-2"},{default:a(()=>[o(j,{value:"Cash On Delivery"},{default:a(()=>[f(r(i.value.cash_on_delivery||"Cash On Delivery"),1)]),_:1})]),_:1},8,["value"])]),t("p",ee,r(i.value.pay_cash_on_delivery||"Pay with cash upon delivery."),1)]),t("div",null,[o(B,{"html-type":"submit",class:"w-full btn-primary mt-5 flex items-center justify-center py-4",disabled:e(n).processing},T({default:a(()=>[e(n).processing?(d(),p(e(E),{key:0,class:"h-4 w-4 animate-spin mr-2"})):_("",!0),s[3]||(s[3]=f(" Save "))]),_:2},[e(n).processing?void 0:{name:"icon",fn:a(()=>[o(e(G))]),key:"0"}]),1032,["disabled"])])])]),_:1}),o(e(b),{xs:24,md:10,class:"mb-5 order-1 md:order-2 p-4",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},{default:a(()=>[s[5]||(s[5]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"}," Order Summary ")],-1)),t("div",te,[t("span",se,r(i.value.subtotal||"Subtotal"),1),t("span",oe,r(g(v.value)),1)]),t("div",ae,[t("span",re,r(i.value.shipping_charge||"Shipping"),1),t("span",ne,r(i.value.free_delivery||"Free Delivery"),1)]),t("div",le,[t("span",ie,r(i.value.total||"Total")+":",1),t("span",de,r(g(v.value)),1)])]),_:1})]),_:1})],32))])])]}),_:1})}}});export{ve as default};
