import{d as B,n as N,c as f,C as V,p as $,r as h,f as y,o as d,w as p,e as n,b as s,u as e,m as L,q as c,a as i,av as j,aw as x,t as o,P as R,g as m,s as E,F as A,v as M,aD as T,aE as Y}from"./app-BDtFrrOJ.js";import{a as q,_ as G}from"./UserLayout.vue_vue_type_script_setup_true_lang-8MFKJylZ.js";import{_ as I}from"./Button.vue_vue_type_script_setup_true_lang-EhkVqIrz.js";import{_ as K}from"./LoginModal.vue_vue_type_script_setup_true_lang-A_N1ew5D.js";import{S as z}from"./ShoppingCartOutlined-CMC-1WAv.js";import{L as H}from"./loader-circle-DfYmUdr_.js";import"./useFlashMessages-B-VLKhyN.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-BWZbIPhW.js";import"./Label.vue_vue_type_script_setup_true_lang-1b5fUe9K.js";import"./TextLink.vue_vue_type_script_setup_true_lang-CIv2a0lI.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BkWNT5hp.js";import"./createLucideIcon-nQhCLoHx.js";const J={class:"py-14"},Q={class:"container mx-auto px-2 sm:px-4"},W={class:"text-center"},X={class:"text-gray-500 text-2xl"},Z={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},ee={class:"list-disc list-inside text-red-600"},se={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 flex items-center gap-2"},te={class:"mb-4"},le={class:"block"},oe={key:0,class:"text-red-500"},ae={class:"mb-4"},re={class:"block"},ne={key:0,class:"text-red-500"},de={class:"mb-4"},ie={class:"block"},ue={key:0,class:"text-red-500"},ce={class:"mb-4"},pe={class:"block"},me={key:0,class:"text-red-500"},_e={class:"mb-4"},ve={class:"block"},be={key:0,class:"text-red-500"},fe={class:"mb-4"},he={class:"block"},ye={key:0,class:"text-red-500"},xe={class:"mb-4"},ge={class:"block"},ke={key:0,class:"text-red-500"},we={class:"mb-4"},Ce={class:"block"},Se={key:0,class:"text-red-500"},Ue={class:"mb-4"},Ne={class:"block"},je={key:0,class:"text-red-500"},De={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},Pe={class:"flex justify-between mb-4 border-b py-4"},Fe={class:"font-medium"},Oe={class:"font-bold text-primary"},Be={class:"flex justify-between mb-4 border-b py-4"},Ve={class:"font-medium"},$e={class:"font-bold text-primary"},Le={class:"flex justify-between mb-4"},Re={class:"font-medium"},Ee={class:"font-bold text-primary"},Xe=B({__name:"CartCheckout",setup(Ae){const b=N(),a=f(()=>{var u;return((u=b.props.translations)==null?void 0:u.cart_checkout)||{}}),g=f(()=>N().props.cart||[]),w=f(()=>g.value.reduce((u,t)=>u+t.total_price,0)),C=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(u),_=f(()=>b.props.billingDetail||{}),l=V({name:_.value.name||"",email:_.value.email||"",phone_number:_.value.phone_number||"",address:_.value.address||"",country:_.value.country||"",state:_.value.state||"",city:_.value.city||"",postal_code:_.value.postal_code||"",order_notes:_.value.order_notes||""}),k=$(!1),D=f(()=>{var u;return(u=b.props.auth)==null?void 0:u.user}),P=()=>{D.value?l.post(route("billing.details"),{onSuccess:()=>{l.reset()}}):k.value=!0};return(u,t)=>{const F=h("a-alert"),v=h("a-input"),S=h("a-textarea"),O=h("a-button");return d(),y(G,null,{default:p(()=>{var U;return[n(e(L),{title:a.value.checkout},null,8,["title"]),s("section",J,[s("div",Q,[(U=e(b).props.flash)!=null&&U.success?(d(),y(F,{key:0,message:a.value.success||"Success",description:e(b).props.flash.success,type:"success","show-icon":"",class:"mb-4"},null,8,["message","description"])):c("",!0),!g.value||g.value.length===0?(d(),y(e(j),{key:1,class:"py-10"},{default:p(()=>[n(e(x),{span:"24"},{default:p(()=>[s("div",W,[n(e(z),{class:"text-7xl text-gray-400 mb-4"}),s("h4",X,o(a.value.cart_empty||"Your cart is empty"),1),n(e(R),{href:u.route("home"),class:"inline-block mt-4"},{default:p(()=>[n(e(I),null,{default:p(()=>[m(o(a.value.continue_shopping||"Continue Shopping"),1)]),_:1})]),_:1},8,["href"])])]),_:1})]),_:1})):(d(),i("form",{key:2,class:"w-full",onSubmit:t[9]||(t[9]=E(r=>P(),["prevent"]))},[Object.keys(e(l).errors).length>0?(d(),i("div",Z,[s("ul",ee,[(d(!0),i(A,null,M(Object.values(e(l).errors),r=>(d(),i("li",{key:r,class:"mb-1"},o(r),1))),128))])])):c("",!0),n(e(j),{class:"justify-between px-6"},{default:p(()=>[n(e(x),{xs:24,md:10,class:"mb-5"},{default:p(()=>[s("div",null,[t[11]||(t[11]=s("h1",{class:"text-5xl font-bold text-green-800 mb-6 flex items-center gap-2"}," 1. ",-1)),s("h1",se,o(a.value.billing_detail||"Billing Details"),1)]),s("div",te,[s("label",le,[m(o(a.value.name||"Full Name")+" ",1),t[12]||(t[12]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{value:e(l).name,"onUpdate:value":t[0]||(t[0]=r=>e(l).name=r),class:"mt-2 w-full",placeholder:a.value.name_placeholder},null,8,["value","placeholder"]),e(l).errors.name?(d(),i("div",oe,o(e(l).errors.name),1)):c("",!0)]),s("div",ae,[s("label",re,[m(o(a.value.email||"Email")+" ",1),t[13]||(t[13]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{type:"email",value:e(l).email,"onUpdate:value":t[1]||(t[1]=r=>e(l).email=r),class:"mt-2 w-full",placeholder:a.value.email_placeholder},null,8,["value","placeholder"]),e(l).errors.email?(d(),i("div",ne,o(e(l).errors.email),1)):c("",!0)]),s("div",de,[s("label",ie,[m(o(a.value.phone||"Phone Number")+" ",1),t[14]||(t[14]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{type:"number",value:e(l).phone_number,"onUpdate:value":t[2]||(t[2]=r=>e(l).phone_number=r),class:"mt-2 w-full",placeholder:a.value.phone_placeholder},null,8,["value","placeholder"]),e(l).errors.phone_number?(d(),i("div",ue,o(e(l).errors.phone_number),1)):c("",!0)]),s("div",ce,[s("label",pe,[m(o(a.value.address||"Address")+" ",1),t[15]||(t[15]=s("span",{class:"text-red-500"},"*",-1))]),n(S,{value:e(l).address,"onUpdate:value":t[3]||(t[3]=r=>e(l).address=r),class:"mt-2 w-full",placeholder:a.value.address_placeholder,rows:4},null,8,["value","placeholder"]),e(l).errors.address?(d(),i("div",me,o(e(l).errors.address),1)):c("",!0)]),s("div",_e,[s("label",ve,[m(o(a.value.country||"Country")+" ",1),t[16]||(t[16]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{value:e(l).country,"onUpdate:value":t[4]||(t[4]=r=>e(l).country=r),class:"mt-2 w-full",placeholder:a.value.country_placeholder},null,8,["value","placeholder"]),e(l).errors.country?(d(),i("div",be,o(e(l).errors.country),1)):c("",!0)]),s("div",fe,[s("label",he,[m(o(a.value.state||"State")+" ",1),t[17]||(t[17]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{value:e(l).state,"onUpdate:value":t[5]||(t[5]=r=>e(l).state=r),class:"mt-2 w-full",placeholder:a.value.state_placeholder},null,8,["value","placeholder"]),e(l).errors.state?(d(),i("div",ye,o(e(l).errors.state),1)):c("",!0)]),s("div",xe,[s("label",ge,[m(o(a.value.city||"City")+" ",1),t[18]||(t[18]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{value:e(l).city,"onUpdate:value":t[6]||(t[6]=r=>e(l).city=r),class:"mt-2 w-full",placeholder:a.value.city_placeholder},null,8,["value","placeholder"]),e(l).errors.city?(d(),i("div",ke,o(e(l).errors.city),1)):c("",!0)]),s("div",we,[s("label",Ce,[m(o(a.value.pcode||"Postal Code")+" ",1),t[19]||(t[19]=s("span",{class:"text-red-500"},"*",-1))]),n(v,{type:"number",value:e(l).postal_code,"onUpdate:value":t[7]||(t[7]=r=>e(l).postal_code=r),class:"mt-2 w-full",placeholder:a.value.pcode_placeholder},null,8,["value","placeholder"]),e(l).errors.postal_code?(d(),i("div",Se,o(e(l).errors.postal_code),1)):c("",!0)]),s("div",Ue,[s("label",Ne,o(a.value.order_notes||"Order notes (optional)"),1),n(S,{value:e(l).order_notes,"onUpdate:value":t[8]||(t[8]=r=>e(l).order_notes=r),class:"mt-2 w-full",placeholder:a.value.order_notes_placeholder,rows:4},null,8,["value","placeholder"]),e(l).errors.order_notes?(d(),i("div",je,o(e(l).errors.order_notes),1)):c("",!0)])]),_:1}),n(e(x),{xs:24,md:10,class:"mb-5"},{default:p(()=>[s("div",null,[t[20]||(t[20]=s("h1",{class:"text-5xl font-bold text-transparent mb-6 flex items-center gap-2"}," 2. ",-1)),s("h1",De,o(a.value.check_your_order||"Check Your Order"),1)]),n(q),s("div",Pe,[s("span",Fe,o(a.value.subtotal||"Subtotal"),1),s("span",Oe,o(C(w.value)),1)]),s("div",Be,[s("span",Ve,o(a.value.shipping_charge||"Shipping"),1),s("span",$e,o(a.value.free_delivery||"Free Delivery"),1)]),s("div",Le,[s("span",Re,o(a.value.total||"Total")+":",1),s("span",Ee,o(C(w.value)),1)])]),_:1}),n(e(x),{xs:24,md:10,class:"mb-5"},{default:p(()=>[s("div",null,[s("div",null,[n(O,{"html-type":"submit",class:"w-full btn-primary mt-5 flex items-center justify-center py-4",disabled:e(l).processing},T({default:p(()=>[e(l).processing?(d(),y(e(H),{key:0,class:"h-4 w-4 animate-spin mr-2"})):c("",!0),t[21]||(t[21]=m(" Next "))]),_:2},[e(l).processing?void 0:{name:"icon",fn:p(()=>[n(e(Y))]),key:"0"}]),1032,["disabled"])])])]),_:1})]),_:1})],32)),n(K,{open:k.value,"onUpdate:open":t[10]||(t[10]=r=>k.value=r),canResetPassword:!1},null,8,["open"])])])]}),_:1})}}});export{Xe as default};
