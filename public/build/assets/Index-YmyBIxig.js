import{d as be,p as y,n as ye,c as $,C as V,x as xe,r as g,a as d,o as u,s as p,e as l,w as n,u as a,m as ke,b as t,t as r,g as m,P as W,F as h,v as z,q as we,l as he,M as Ce}from"./app-C8c4MyT4.js";import{A as Ie}from"./AdminLayout-SIioTCG6.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DzcUyccW.js";const Ue={key:0,class:"loading-overlay"},Pe={class:"bg-white p-4 rounded-lg responsive-table"},Ae={class:"mb-4 flex items-center justify-between"},Be={class:"text-lg font-semibold mb-4"},Le={key:1},Ne=["src","onClick"],Se={key:1,class:"text-gray-400 mb-1"},je={class:"mb-4"},$e={class:"block"},De={key:0,class:"text-red-500"},Re={class:"mb-4"},Ee={class:"block"},Me={key:0,class:"text-red-500"},Fe={class:"mb-4"},Te={class:"block"},Oe={key:0,class:"text-red-500"},Ve={class:"mb-4"},ze={class:"block"},Ye={key:0,class:"text-red-500"},Ge={key:1,class:"mt-2"},qe=["src"],Ke={class:"text-right"},He={class:"mb-4"},Je={class:"block"},Qe={key:0,class:"text-red-500"},We={class:"mb-4"},Xe={class:"block"},Ze={key:0,class:"text-red-500"},et={class:"mb-4"},tt={class:"block"},at={key:0,class:"mb-2"},lt={class:"text-sm text-gray-500 mb-1"},st=["src"],ot={key:1,class:"text-red-500"},nt={class:"mt-2 text-sm text-gray-500"},rt={key:2,class:"mt-2"},it={class:"text-sm text-gray-600 mb-1"},dt=["src"],ut={class:"text-right"},ct={class:"mb-4"},mt={key:0,class:"text-red-500"},pt={class:"mb-4"},vt={key:0,class:"text-red-500"},_t={class:"mb-4"},ft={key:0,class:"text-red-500"},gt={class:"mb-4"},bt={key:0,class:"text-red-500"},yt={class:"mb-4"},xt={key:0,class:"text-red-500"},kt={class:"mb-4"},wt={key:0,class:"text-red-500"},ht={class:"mb-4"},Ct={key:0,class:"text-red-500"},It={class:"mb-4"},Ut={class:"mb-4"},Pt={key:0,class:"text-red-500"},At={class:"mb-4"},Bt={key:0,class:"text-red-500"},Lt={class:"mb-4"},Nt={key:0,class:"text-red-500"},St={key:1,class:"mt-2"},jt=["src"],$t={class:"mb-4"},Dt={key:0,class:"text-red-500"},Rt={key:1,class:"mt-2 flex flex-wrap gap-2"},Et=["src"],Mt={class:"mb-4"},Ft={class:"text-right"},Tt={class:"flex justify-center p-4"},Ot=["src"],Gt=be({__name:"Index",props:{categories:Array,brands:Object},setup(Y){const k=y(!1),X=ye(),i=$(()=>{var c;return((c=X.props.translations)==null?void 0:c.dashboard_all_pages)||{}}),Z=$(()=>[{title:i.value.sr||"Sr.",dataIndex:"id",key:"id"},{title:i.value.image||"Image",dataIndex:"image",key:"image"},{title:i.value.name||"Name",dataIndex:"name",key:"name"},{title:i.value.description||"Description",dataIndex:"description",key:"description"},{title:i.value.category||"Category",dataIndex:"category",key:"category"},{title:i.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:i.value.action||"Action",dataIndex:"action",key:"action"}]),ee=c=>c?he(c).format("DD-MM-YYYY hh:mm A"):"N/A",te=Y,G=$(()=>{var c;return((c=te.categories)==null?void 0:c.map(e=>({value:e.id,label:e.name})))||[]}),q=(c,e)=>e.label.toLowerCase().includes(c.toLowerCase()),v=V({name:"",description:"",category_id:null,image:null}),_=V({id:null,name:"",description:"",image:null,_method:"PUT"}),s=V({id:null,name:"",description:"",brand_id:null,category_id:null,thumnail_img:null,gallary_img:[],stock:0,status:"active",purchase_price:0,sale_price:0,discount:0,final_price:0,feature:!1,barcode:""}),ae=$(()=>{if(s.sale_price&&s.discount){const c=s.sale_price*s.discount/100;return s.sale_price-c}return s.sale_price});xe([()=>s.sale_price,()=>s.discount],()=>{s.final_price=ae.value});const le=c=>{Ce.confirm({title:i.value.confirm_delete_title||"Are you sure you want to delete",content:i.value.delete_brand_warning||"This action cannot be undone.",okText:i.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:i.value.confirm_delete_cancel||"Cancel",onOk(){k.value=!0,v.delete(route("admin.brand.delete",{id:c}),{onSuccess:()=>{},onFinish:()=>{k.value=!1}})}})},C=y(!1),I=y(!1),U=y(!1),K=y(""),H=y(""),A=y(!1),se=()=>{v.reset(),B.value=null,U.value=!0},oe=c=>{_.id=c.id,_.name=c.name,_.description=c.description,_.image=null,D.value=c.image,L.value="",C.value=!0},B=y(null),ne=c=>{const e=c.target;e.files&&e.files[0]&&(v.image=e.files[0],B.value=URL.createObjectURL(e.files[0]))},re=()=>{k.value=!0,v.post(route("admin.brand.store"),{onSuccess:()=>{v.reset(),U.value=!1},onFinish:()=>{k.value=!1}})},ie=()=>{k.value=!0,_.post(route("admin.brand.update",{id:_.id}),{onSuccess:()=>{C.value=!1},onFinish:()=>{k.value=!1}})},de=c=>{K.value=c.name,s.brand_id=c.id,I.value=!0},ue=()=>{k.value=!0,s.post(route("admin.product.store"),{onSuccess:()=>{s.reset(),I.value=!1},onFinish:()=>{k.value=!1}})},ce=c=>{H.value="/storage/"+c,A.value=!0},L=y(""),D=y(""),me=c=>{const e=c.target;e.files&&e.files[0]&&(_.image=e.files[0],L.value=URL.createObjectURL(e.files[0]))},pe=c=>{const e=c.target;e.files&&e.files[0]&&(s.thumnail_img=e.files[0],R.value=URL.createObjectURL(e.files[0]))},ve=c=>{const e=c.target;e.files&&(s.gallary_img=Array.from(e.files),E.value=Array.from(e.files).map(M=>URL.createObjectURL(M)))},R=y(""),E=y([]);return(c,e)=>{const M=g("a-spin"),x=g("a-button"),N=g("a-tooltip"),_e=g("a-table"),f=g("a-col"),J=g("a-row"),F=g("a-select"),S=g("a-input"),T=g("a-textarea"),j=g("a-modal"),Q=g("a-select-option"),P=g("a-input-number"),fe=g("a-checkbox");return u(),d(h,null,[k.value?(u(),d("div",Ue,[l(M,{size:"large"})])):p("",!0),l(Ie,null,{default:n(()=>[l(a(ke),{title:i.value.brand_title||"Brand List"},null,8,["title"]),l(J,null,{default:n(()=>[l(f,{xs:24},{default:n(()=>{var o;return[t("div",Pe,[t("div",Ae,[t("h2",Be,r(i.value.brand_title||"Brand List"),1),t("div",null,[l(x,{onClick:e[0]||(e[0]=w=>se()),type:"default"},{default:n(()=>[m(r(i.value.add_brand||"Add Brand"),1)]),_:1}),l(a(W),{href:c.route("admin.brand-log")},{default:n(()=>[l(x,{type:"default"},{default:n(()=>[m(r(i.value.brand_logs||"Brand Logs"),1)]),_:1})]),_:1},8,["href"])])]),l(_e,{columns:Z.value,"data-source":(o=Y.brands)==null?void 0:o.data,rowKey:"id"},{bodyCell:n(({column:w,record:b,index:ge})=>[w.dataIndex==="id"?(u(),d(h,{key:0},[m(r(ge+1),1)],64)):p("",!0),w.dataIndex==="image"?(u(),d("div",Le,[b.image?(u(),d("img",{key:0,src:"/storage/"+b.image,alt:"Category Image",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:O=>ce(b.image)},null,8,Ne)):(u(),d("span",Se,"No Image"))])):p("",!0),w.dataIndex==="name"?(u(),d(h,{key:2},[m(r(b.name),1)],64)):w.dataIndex==="description"?(u(),d(h,{key:3},[m(r(b.description?b.description:"N/A"),1)],64)):w.dataIndex==="category"?(u(),d(h,{key:4},[m(r(b.category_name||"N/A"),1)],64)):w.dataIndex==="created_at"?(u(),d(h,{key:5},[m(r(ee(b.created_at)),1)],64)):w.dataIndex==="action"?(u(),d(h,{key:6},[l(N,{placement:"top"},{title:n(()=>[m(r(i.value.delete||"Delete"),1)]),default:n(()=>[l(x,{type:"link",onClick:O=>le(b.id)},{default:n(()=>e[31]||(e[31]=[t("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(N,{placement:"top"},{title:n(()=>[m(r(i.value.edit||"Edit"),1)]),default:n(()=>[l(x,{type:"link",onClick:O=>oe(b)},{default:n(()=>e[32]||(e[32]=[t("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(N,{placement:"top"},{title:n(()=>[m(r(i.value.add_product||"Add Product"),1)]),default:n(()=>[l(x,{type:"link",onClick:O=>de(b)},{default:n(()=>e[33]||(e[33]=[t("i",{class:"fa fa-product-hunt text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(N,{placement:"top"},{title:n(()=>[m(r(i.value.product_list||"Product List"),1)]),default:n(()=>[l(a(W),{href:c.route("admin.related-product-list",b.slug),class:"text-blue-500 hover:underline"},{default:n(()=>e[34]||(e[34]=[t("i",{class:"fa fa-list text-slate-800","aria-hidden":"true"},null,-1)])),_:2},1032,["href"])]),_:2},1024)],64)):p("",!0)]),_:1},8,["columns","data-source"])])]}),_:1})]),_:1}),l(j,{open:U.value,"onUpdate:open":e[6]||(e[6]=o=>U.value=o),title:i.value.add_brand||"Add Brand",onCancel:e[7]||(e[7]=o=>U.value=!1),footer:null},{default:n(()=>[t("form",{onSubmit:e[5]||(e[5]=z(o=>re(),["prevent"])),enctype:"multipart/form-data"},[t("div",je,[t("label",$e,r(i.value.category||"Category"),1),l(F,{value:a(v).category_id,"onUpdate:value":e[1]||(e[1]=o=>a(v).category_id=o),"show-search":"",placeholder:"Select a Category",class:"mt-2 w-full",options:G.value,"filter-option":q},null,8,["value","options"]),a(v).errors.category_id?(u(),d("div",De,r(a(v).errors.category_id),1)):p("",!0)]),t("div",Re,[t("label",Ee,r(i.value.name||"Name"),1),l(S,{value:a(v).name,"onUpdate:value":e[2]||(e[2]=o=>a(v).name=o),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),a(v).errors.name?(u(),d("div",Me,r(a(v).errors.name),1)):p("",!0)]),t("div",Fe,[t("label",Te,r(i.value.description||"Description"),1),l(T,{value:a(v).description,"onUpdate:value":e[3]||(e[3]=o=>a(v).description=o),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),a(v).errors.description?(u(),d("div",Oe,r(a(v).errors.description),1)):p("",!0)]),t("div",Ve,[t("label",ze,r(i.value.image||"Image"),1),t("input",{type:"file",onChange:ne,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),a(v).errors.image?(u(),d("div",Ye,r(a(v).errors.image),1)):p("",!0),B.value?(u(),d("div",Ge,[e[35]||(e[35]=t("p",{class:"text-sm text-gray-600 mb-1"},"Preview",-1)),t("img",{src:B.value,alt:"Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,qe)])):p("",!0)]),t("div",Ke,[l(x,{type:"default",onClick:e[4]||(e[4]=o=>U.value=!1)},{default:n(()=>[m(r(i.value.cancel||"Cancel"),1)]),_:1}),l(x,{type:"primary","html-type":"submit",class:"ml-2"},{default:n(()=>[m(r(i.value.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"]),l(j,{open:C.value,"onUpdate:open":e[12]||(e[12]=o=>C.value=o),title:i.value.update||"Edit Brand",onCancel:e[13]||(e[13]=o=>C.value=!1),footer:null},{default:n(()=>[t("form",{onSubmit:e[11]||(e[11]=z(o=>ie(),["prevent"])),enctype:"multipart/form-data"},[t("div",He,[t("label",Je,r(i.value.name||"Name"),1),l(S,{value:a(_).name,"onUpdate:value":e[8]||(e[8]=o=>a(_).name=o),class:"mt-2 w-full",placeholder:i.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),a(_).errors.name?(u(),d("div",Qe,r(a(_).errors.name),1)):p("",!0)]),t("div",We,[t("label",Xe,r(i.value.description||"Description"),1),l(T,{value:a(_).description,"onUpdate:value":e[9]||(e[9]=o=>a(_).description=o),class:"mt-2 w-full",placeholder:i.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),a(_).errors.description?(u(),d("div",Ze,r(a(_).errors.description),1)):p("",!0)]),t("div",et,[t("label",tt,r(i.value.image||"Image"),1),D.value?(u(),d("div",at,[t("p",lt,r(i.value.current_image||"Current Image"),1),t("img",{src:"/storage/"+D.value,alt:"Current Brand Image",class:"w-24 h-24 object-cover rounded border"},null,8,st)])):p("",!0),t("input",{type:"file",onChange:me,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),a(_).errors.image?(u(),d("div",ot,r(a(_).errors.image),1)):p("",!0),t("div",nt,r(i.value.keep_current_image||"Leave empty to keep the current image"),1),L.value?(u(),d("div",rt,[t("p",it,r(i.value.new_image_preview||"New Image Preview")+":",1),t("img",{src:L.value,alt:"New Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,dt)])):p("",!0)]),t("div",ut,[l(x,{type:"default",onClick:e[10]||(e[10]=o=>C.value=!1)},{default:n(()=>[m(r(i.value.cancel||"Cancel"),1)]),_:1}),l(x,{type:"primary","html-type":"submit",class:"ml-2"},{default:n(()=>[m(r(i.value.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"]),l(j,{open:I.value,"onUpdate:open":e[27]||(e[27]=o=>I.value=o),title:"Add Product for "+K.value,onCancel:e[28]||(e[28]=o=>I.value=!1),footer:null,width:"800px"},{default:n(()=>[t("form",{onSubmit:e[26]||(e[26]=z(o=>ue(),["prevent"])),enctype:"multipart/form-data"},[l(J,{gutter:[16,16]},{default:n(()=>[l(f,{xs:24,md:12},{default:n(()=>[t("div",ct,[e[36]||(e[36]=t("label",{class:"block"},[m("Name "),t("span",{class:"text-red-500"},"*")],-1)),l(S,{value:a(s).name,"onUpdate:value":e[14]||(e[14]=o=>a(s).name=o),class:"mt-2 w-full",placeholder:"Enter Product Name"},null,8,["value"]),a(s).errors.name?(u(),d("div",mt,r(a(s).errors.name),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",pt,[e[37]||(e[37]=t("label",{class:"block"},"Barcode",-1)),l(S,{value:a(s).barcode,"onUpdate:value":e[15]||(e[15]=o=>a(s).barcode=o),class:"mt-2 w-full",placeholder:"Enter Barcode"},null,8,["value"]),a(s).errors.barcode?(u(),d("div",vt,r(a(s).errors.barcode),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",_t,[e[38]||(e[38]=t("label",{class:"block"},[m("Category "),t("span",{class:"text-red-500"},"*")],-1)),l(F,{value:a(s).category_id,"onUpdate:value":e[16]||(e[16]=o=>a(s).category_id=o),"show-search":"",placeholder:"Select Category",class:"mt-2 w-full",options:G.value,"filter-option":q},null,8,["value","options"]),a(s).errors.category_id?(u(),d("div",ft,r(a(s).errors.category_id),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",gt,[e[41]||(e[41]=t("label",{class:"block"},[m("Status "),t("span",{class:"text-red-500"},"*")],-1)),l(F,{value:a(s).status,"onUpdate:value":e[17]||(e[17]=o=>a(s).status=o),class:"mt-2 w-full"},{default:n(()=>[l(Q,{value:"active"},{default:n(()=>e[39]||(e[39]=[m("Active")])),_:1}),l(Q,{value:"inactive"},{default:n(()=>e[40]||(e[40]=[m("Inactive")])),_:1})]),_:1},8,["value"]),a(s).errors.status?(u(),d("div",bt,r(a(s).errors.status),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",yt,[e[42]||(e[42]=t("label",{class:"block"},[m("Purchase Price "),t("span",{class:"text-red-500"},"*")],-1)),l(P,{value:a(s).purchase_price,"onUpdate:value":e[18]||(e[18]=o=>a(s).purchase_price=o),class:"mt-2 w-full",min:0,step:.01},null,8,["value"]),a(s).errors.purchase_price?(u(),d("div",xt,r(a(s).errors.purchase_price),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",kt,[e[43]||(e[43]=t("label",{class:"block"},[m("Sale Price "),t("span",{class:"text-red-500"},"*")],-1)),l(P,{value:a(s).sale_price,"onUpdate:value":e[19]||(e[19]=o=>a(s).sale_price=o),class:"mt-2 w-full",min:0,step:.01},null,8,["value"]),a(s).errors.sale_price?(u(),d("div",wt,r(a(s).errors.sale_price),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",ht,[e[44]||(e[44]=t("label",{class:"block"},"Discount (%)",-1)),l(P,{value:a(s).discount,"onUpdate:value":e[20]||(e[20]=o=>a(s).discount=o),class:"mt-2 w-full",min:0,max:100,step:1},null,8,["value"]),a(s).errors.discount?(u(),d("div",Ct,r(a(s).errors.discount),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",It,[e[45]||(e[45]=t("label",{class:"block"},"Final Price",-1)),l(P,{value:a(s).final_price,"onUpdate:value":e[21]||(e[21]=o=>a(s).final_price=o),class:"mt-2 w-full",min:0,step:.01,disabled:""},null,8,["value"])])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",Ut,[e[46]||(e[46]=t("label",{class:"block"},[m("Stock "),t("span",{class:"text-red-500"},"*")],-1)),l(P,{value:a(s).stock,"onUpdate:value":e[22]||(e[22]=o=>a(s).stock=o),class:"mt-2 w-full",min:0},null,8,["value"]),a(s).errors.stock?(u(),d("div",Pt,r(a(s).errors.stock),1)):p("",!0)])]),_:1}),l(f,{xs:24},{default:n(()=>[t("div",At,[e[47]||(e[47]=t("label",{class:"block"},[m("Description "),t("span",{class:"text-red-500"},"*")],-1)),l(T,{value:a(s).description,"onUpdate:value":e[23]||(e[23]=o=>a(s).description=o),class:"mt-2 w-full",placeholder:"Enter Description","auto-size":{minRows:3,maxRows:6}},null,8,["value"]),a(s).errors.description?(u(),d("div",Bt,r(a(s).errors.description),1)):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",Lt,[e[48]||(e[48]=t("label",{class:"block"},[m("Thumbnail Image "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{type:"file",onChange:pe,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),a(s).errors.thumnail_img?(u(),d("div",Nt,r(a(s).errors.thumnail_img),1)):p("",!0),R.value?(u(),d("div",St,[t("img",{src:R.value,alt:"Thumbnail Preview",class:"w-24 h-24 object-cover rounded border"},null,8,jt)])):p("",!0)])]),_:1}),l(f,{xs:24,md:12},{default:n(()=>[t("div",$t,[e[49]||(e[49]=t("label",{class:"block"},[m("Gallery Images "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{type:"file",onChange:ve,accept:"image/*",multiple:"",class:"mt-2 w-full p-2 border rounded"},null,32),a(s).errors.gallary_img?(u(),d("div",Dt,r(a(s).errors.gallary_img),1)):p("",!0),E.value.length?(u(),d("div",Rt,[(u(!0),d(h,null,we(E.value,(o,w)=>(u(),d("img",{key:w,src:o,alt:"Gallery Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Et))),128))])):p("",!0)])]),_:1}),l(f,{xs:24},{default:n(()=>[t("div",Mt,[l(fe,{checked:a(s).feature,"onUpdate:checked":e[24]||(e[24]=o=>a(s).feature=o)},{default:n(()=>e[50]||(e[50]=[m("Feature this product")])),_:1},8,["checked"])])]),_:1})]),_:1}),t("div",Ft,[l(x,{type:"default",onClick:e[25]||(e[25]=o=>I.value=!1)},{default:n(()=>e[51]||(e[51]=[m("Cancel")])),_:1}),l(x,{type:"primary","html-type":"submit",class:"ml-2",loading:k.value},{default:n(()=>e[52]||(e[52]=[m("Save")])),_:1},8,["loading"])])],32)]),_:1},8,["open","title"]),l(j,{open:A.value,"onUpdate:open":e[29]||(e[29]=o=>A.value=o),title:i.value.preview||"Image Preview",onCancel:e[30]||(e[30]=o=>A.value=!1),footer:null,width:"600px"},{default:n(()=>[t("div",Tt,[t("img",{src:H.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,Ot)])]),_:1},8,["open","title"])]),_:1})],64)}}});export{Gt as default};
