import{d as F,n as w,c as h,C as N,r as u,f as p,o as d,w as o,e as a,b as t,u as e,m as L,q as _,a as m,P as S,g as f,aA as V,ar as C,as as b,t as r,s as $,F as A,v as M,ay as R}from"./app-C4B6CvrJ.js";import{_ as T}from"./UserLayout.vue_vue_type_script_setup_true_lang-CT6vuiHT.js";import{_ as U}from"./Button.vue_vue_type_script_setup_true_lang-Cf4zZFho.js";import{S as q}from"./ShoppingCartOutlined-C7N_QsSJ.js";import{L as E}from"./loader-circle-75P0619D.js";import{S as G}from"./ShoppingOutlined-QGo9DIHa.js";import"./useFlashMessages-DYZsmvOp.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-ju2tFwSL.js";import"./createLucideIcon-C76iPXHN.js";const I={class:"py-14"},K={class:"container mx-auto px-2 sm:px-4"},Y={class:"text-center"},z={class:"text-gray-500 text-2xl"},H={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},J={class:"list-disc list-inside text-red-600"},Q={key:0,class:"text-red-500"},W={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},X={class:""},Z={class:"flex items-center"},ee={class:"text-gray-500 text-sm ml-6"},te={class:"flex justify-between mb-4 border-b py-4"},se={class:"font-bold"},ae={class:"font-bold text-slate-500"},oe={class:"flex justify-between mb-4 border-b py-4"},re={class:"font-bold"},ne={class:"font-bold text-slate-500"},le={class:"flex justify-between mb-4"},ie={class:"font-bold"},de={class:"font-bold text-slate-500"},ve=F({__name:"CartPayment",setup(ce){const y=w(),i=h(()=>{var l;return((l=y.props.translations)==null?void 0:l.cart_checkout)||{}}),x=h(()=>w().props.cart||[]),v=h(()=>x.value.reduce((l,s)=>l+s.total_price,0)),g=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(l),n=N({payment_method:""}),O=()=>{n.post(route("order.generate"),{onSuccess:()=>{n.reset()}})};return(l,s)=>{const P=u("a-alert"),j=u("a-radio"),B=u("a-radio-group"),D=u("a-button");return d(),p(T,null,{default:o(()=>{var k;return[a(e(L),{title:"Payment"}),t("section",I,[t("div",K,[a(e(S),{href:l.route("cart.checkout"),class:"flex items-center mb-2"},{default:o(()=>[a(e(V)),s[2]||(s[2]=f("Back"))]),_:1},8,["href"]),(k=e(y).props.flash)!=null&&k.success?(d(),p(P,{key:0,class:"my-1",message:e(y).props.flash.success,type:"success","show-icon":""},null,8,["message"])):_("",!0),!x.value||x.value.length===0?(d(),p(e(C),{key:1,class:"py-10"},{default:o(()=>[a(e(b),{span:"24"},{default:o(()=>[t("div",Y,[a(e(q),{class:"text-7xl text-gray-400 mb-4"}),t("h4",z,r(i.value.cart_empty||"Your cart is empty"),1),a(e(S),{href:l.route("home"),class:"inline-block mt-4"},{default:o(()=>[a(e(U),null,{default:o(()=>[f(r(i.value.continue_shopping||"Continue Shopping"),1)]),_:1})]),_:1},8,["href"])])]),_:1})]),_:1})):(d(),m("form",{key:2,class:"w-full",onSubmit:s[1]||(s[1]=$(c=>O(),["prevent"]))},[Object.keys(e(n).errors).length>0?(d(),m("div",H,[t("ul",J,[(d(!0),m(A,null,M(Object.values(e(n).errors),c=>(d(),m("li",{key:c,class:"mb-1"},r(c),1))),128))])])):_("",!0),a(e(C),{class:"justify-between px-6"},{default:o(()=>[a(e(b),{xs:24,md:10,class:"mb-5 order-2 md:order-1"},{default:o(()=>[t("div",null,[s[4]||(s[4]=t("h1",{class:"text-5xl font-bold text-green-800 mb-6 flex items-center gap-2"}," 2. ",-1)),e(n).errors.payment_method?(d(),m("div",Q,r(e(n).errors.payment_method),1)):_("",!0),t("h1",W,r(i.value.payment_method||"Payment Method"),1),t("div",X,[t("div",Z,[a(B,{value:e(n).payment_method,"onUpdate:value":s[0]||(s[0]=c=>e(n).payment_method=c),class:"ml-2"},{default:o(()=>[a(j,{value:"Cash On Delivery"},{default:o(()=>[f(r(i.value.cash_on_delivery||"Cash On Delivery"),1)]),_:1})]),_:1},8,["value"])]),t("p",ee,r(i.value.pay_cash_on_delivery||"Pay with cash upon delivery."),1)]),t("div",null,[a(D,{"html-type":"submit",class:"w-full btn-primary mt-5 flex items-center justify-center py-4",disabled:e(n).processing},R({default:o(()=>[e(n).processing?(d(),p(e(E),{key:0,class:"h-4 w-4 animate-spin mr-2"})):_("",!0),s[3]||(s[3]=f(" Save "))]),_:2},[e(n).processing?void 0:{name:"icon",fn:o(()=>[a(e(G))]),key:"0"}]),1032,["disabled"])])])]),_:1}),a(e(b),{xs:24,md:10,class:"mb-5 order-1 md:order-2 p-4",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},{default:o(()=>[s[5]||(s[5]=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"}," Order Summary ")],-1)),t("div",te,[t("span",se,r(i.value.subtotal||"Subtotal"),1),t("span",ae,r(g(v.value)),1)]),t("div",oe,[t("span",re,r(i.value.shipping_charge||"Shipping"),1),t("span",ne,r(i.value.free_delivery||"Free Delivery"),1)]),t("div",le,[t("span",ie,r(i.value.total||"Total")+":",1),t("span",de,r(g(v.value)),1)])]),_:1})]),_:1})],32))])])]}),_:1})}}});export{ve as default};
