import{d as se,p as b,n as oe,c as A,C as S,r as g,a as r,o as d,s as v,e as i,w as u,u as s,m as ne,b as a,t as l,g as p,P as ie,F as x,v as E,l as re,M as de}from"./app-aza9nPRH.js";import{A as ue}from"./AdminLayout-C_RbnSXB.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-reYiCchD.js";const ce={key:0,class:"loading-overlay"},me={class:"bg-white p-4 rounded-lg responsive-table"},ve={class:"mb-4 flex items-center justify-between"},pe={class:"text-lg font-semibold mb-4"},_e={key:1},ge=["src","onClick"],fe={key:1,class:"text-gray-400 mb-1"},ye={class:"mb-4"},be={class:"block"},ke={key:0,class:"text-red-500"},xe={class:"mb-4"},he={class:"block"},we={key:0,class:"text-red-500"},Ce={class:"mb-4"},Ie={class:"block"},Be={key:0,class:"text-red-500"},Ne={class:"mb-4"},Ue={class:"block"},Ae={key:0,class:"text-red-500"},Le={key:1,class:"mt-2"},Pe=["src"],je={class:"text-right"},De={class:"mb-4"},$e={class:"block"},Me={key:0,class:"text-red-500"},Se={class:"mb-4"},Ee={class:"block"},Re={key:0,class:"text-red-500"},Fe={class:"mb-4"},Ve={class:"block"},Oe={key:0,class:"mb-2"},Te={class:"text-sm text-gray-500 mb-1"},Ye=["src"],ze={key:1,class:"text-red-500"},qe={class:"mt-2 text-sm text-gray-500"},Ke={key:2,class:"mt-2"},Ge={class:"text-sm text-gray-600 mb-1"},He=["src"],Je={class:"text-right"},Qe={class:"flex justify-center p-4"},We=["src"],tt=se({__name:"Index",props:{categories:Array,brands:Object},setup(L){const k=b(!1),R=oe(),t=A(()=>{var o;return((o=R.props.translations)==null?void 0:o.dashboard_all_pages)||{}}),F=A(()=>[{title:t.value.sr||"Sr.",dataIndex:"id",key:"id"},{title:t.value.image||"Image",dataIndex:"image",key:"image"},{title:t.value.name||"Name",dataIndex:"name",key:"name"},{title:t.value.description||"Description",dataIndex:"description",key:"description"},{title:t.value.category||"Category",dataIndex:"category",key:"category"},{title:t.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:t.value.action||"Action",dataIndex:"action",key:"action"}]),V=o=>o?re(o).format("DD-MM-YYYY hh:mm A"):"N/A",O=L,T=A(()=>{var o;return((o=O.categories)==null?void 0:o.map(e=>({value:e.id,label:e.name})))||[]}),Y=(o,e)=>e.label.toLowerCase().includes(o.toLowerCase()),c=S({name:"",description:"",category_id:null,image:null}),m=S({id:null,name:"",description:"",image:null,_method:"PUT"}),z=o=>{de.confirm({title:t.value.confirm_delete_title||"Are you sure you want to delete",content:t.value.delete_brand_warning||"This action cannot be undone.",okText:t.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:t.value.confirm_delete_cancel||"Cancel",onOk(){k.value=!0,c.delete(route("admin.brand.delete",{id:o}),{onSuccess:()=>{},onFinish:()=>{k.value=!1}})}})},h=b(!1),w=b(!1),P=b(""),C=b(!1),q=()=>{c.reset(),I.value=null,w.value=!0},K=o=>{m.id=o.id,m.name=o.name,m.description=o.description,m.image=null,N.value=o.image,B.value="",h.value=!0},I=b(null),G=o=>{const e=o.target;e.files&&e.files[0]&&(c.image=e.files[0],I.value=URL.createObjectURL(e.files[0]))},H=()=>{k.value=!0,c.post(route("admin.brand.store"),{onSuccess:()=>{c.reset(),w.value=!1},onFinish:()=>{k.value=!1}})},J=()=>{k.value=!0,m.post(route("admin.brand.update",{id:m.id}),{onSuccess:()=>{h.value=!1},onFinish:()=>{k.value=!1}})},Q=o=>{P.value="/storage/"+o,C.value=!0},B=b(""),N=b(""),W=o=>{const e=o.target;e.files&&e.files[0]&&(m.image=e.files[0],B.value=URL.createObjectURL(e.files[0]))};return(o,e)=>{const X=g("a-spin"),f=g("a-button"),j=g("a-tooltip"),Z=g("a-table"),ee=g("a-col"),te=g("a-row"),ae=g("a-select"),D=g("a-input"),$=g("a-textarea"),U=g("a-modal");return d(),r(x,null,[k.value?(d(),r("div",ce,[i(X,{size:"large"})])):v("",!0),i(ue,null,{default:u(()=>[i(s(ne),{title:t.value.brand_title||"Brand List"},null,8,["title"]),i(te,null,{default:u(()=>[i(ee,{xs:24},{default:u(()=>{var n;return[a("div",me,[a("div",ve,[a("h2",pe,l(t.value.brand_title||"Brand List"),1),a("div",null,[i(f,{onClick:e[0]||(e[0]=y=>q()),type:"default"},{default:u(()=>[p(l(t.value.add_brand||"Add Brand"),1)]),_:1}),i(s(ie),{href:o.route("admin.brand-log")},{default:u(()=>[i(f,{type:"default"},{default:u(()=>[p(l(t.value.brand_logs||"Brand Logs"),1)]),_:1})]),_:1},8,["href"])])]),i(Z,{columns:F.value,"data-source":(n=L.brands)==null?void 0:n.data,rowKey:"id"},{bodyCell:u(({column:y,record:_,index:le})=>[y.dataIndex==="id"?(d(),r(x,{key:0},[p(l(le+1),1)],64)):v("",!0),y.dataIndex==="image"?(d(),r("div",_e,[_.image?(d(),r("img",{key:0,src:"/storage/"+_.image,alt:"Category Image",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:M=>Q(_.image)},null,8,ge)):(d(),r("span",fe,"No Image"))])):v("",!0),y.dataIndex==="name"?(d(),r(x,{key:2},[p(l(_.name),1)],64)):y.dataIndex==="description"?(d(),r(x,{key:3},[p(l(_.description?_.description:"N/A"),1)],64)):y.dataIndex==="category"?(d(),r(x,{key:4},[p(l(_.category_name||"N/A"),1)],64)):y.dataIndex==="created_at"?(d(),r(x,{key:5},[p(l(V(_.created_at)),1)],64)):y.dataIndex==="action"?(d(),r(x,{key:6},[i(j,{placement:"top"},{title:u(()=>[p(l(t.value.delete||"Delete"),1)]),default:u(()=>[i(f,{type:"link",onClick:M=>z(_.id)},{default:u(()=>e[16]||(e[16]=[a("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),i(j,{placement:"top"},{title:u(()=>[p(l(t.value.edit||"Edit"),1)]),default:u(()=>[i(f,{type:"link",onClick:M=>K(_)},{default:u(()=>e[17]||(e[17]=[a("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024)],64)):v("",!0)]),_:1},8,["columns","data-source"])])]}),_:1})]),_:1}),i(U,{open:w.value,"onUpdate:open":e[6]||(e[6]=n=>w.value=n),title:t.value.add_brand||"Add Brand",onCancel:e[7]||(e[7]=n=>w.value=!1),footer:null},{default:u(()=>[a("form",{onSubmit:e[5]||(e[5]=E(n=>H(),["prevent"])),enctype:"multipart/form-data"},[a("div",ye,[a("label",be,l(t.value.category||"Category"),1),i(ae,{value:s(c).category_id,"onUpdate:value":e[1]||(e[1]=n=>s(c).category_id=n),"show-search":"",placeholder:"Select a Category",class:"mt-2 w-full",options:T.value,"filter-option":Y},null,8,["value","options"]),s(c).errors.category_id?(d(),r("div",ke,l(s(c).errors.category_id),1)):v("",!0)]),a("div",xe,[a("label",he,l(t.value.name||"Name"),1),i(D,{value:s(c).name,"onUpdate:value":e[2]||(e[2]=n=>s(c).name=n),class:"mt-2 w-full",placeholder:"Enter Name"},null,8,["value"]),s(c).errors.name?(d(),r("div",we,l(s(c).errors.name),1)):v("",!0)]),a("div",Ce,[a("label",Ie,l(t.value.description||"Description"),1),i($,{value:s(c).description,"onUpdate:value":e[3]||(e[3]=n=>s(c).description=n),class:"mt-2 w-full",placeholder:"Description","auto-size":{minRows:2,maxRows:5}},null,8,["value"]),s(c).errors.description?(d(),r("div",Be,l(s(c).errors.description),1)):v("",!0)]),a("div",Ne,[a("label",Ue,l(t.value.image||"Image"),1),a("input",{type:"file",onChange:G,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(c).errors.image?(d(),r("div",Ae,l(s(c).errors.image),1)):v("",!0),I.value?(d(),r("div",Le,[e[18]||(e[18]=a("p",{class:"text-sm text-gray-600 mb-1"},"Preview",-1)),a("img",{src:I.value,alt:"Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Pe)])):v("",!0)]),a("div",je,[i(f,{type:"default",onClick:e[4]||(e[4]=n=>w.value=!1)},{default:u(()=>[p(l(t.value.cancel||"Cancel"),1)]),_:1}),i(f,{type:"primary","html-type":"submit",class:"ml-2"},{default:u(()=>[p(l(t.value.save||"Save"),1)]),_:1})])],32)]),_:1},8,["open","title"]),i(U,{open:h.value,"onUpdate:open":e[12]||(e[12]=n=>h.value=n),title:t.value.update||"Edit Brand",onCancel:e[13]||(e[13]=n=>h.value=!1),footer:null},{default:u(()=>[a("form",{onSubmit:e[11]||(e[11]=E(n=>J(),["prevent"])),enctype:"multipart/form-data"},[a("div",De,[a("label",$e,l(t.value.name||"Name"),1),i(D,{value:s(m).name,"onUpdate:value":e[8]||(e[8]=n=>s(m).name=n),class:"mt-2 w-full",placeholder:t.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),s(m).errors.name?(d(),r("div",Me,l(s(m).errors.name),1)):v("",!0)]),a("div",Se,[a("label",Ee,l(t.value.description||"Description"),1),i($,{value:s(m).description,"onUpdate:value":e[9]||(e[9]=n=>s(m).description=n),class:"mt-2 w-full",placeholder:t.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),s(m).errors.description?(d(),r("div",Re,l(s(m).errors.description),1)):v("",!0)]),a("div",Fe,[a("label",Ve,l(t.value.image||"Image"),1),N.value?(d(),r("div",Oe,[a("p",Te,l(t.value.current_image||"Current Image"),1),a("img",{src:"/storage/"+N.value,alt:"Current Brand Image",class:"w-24 h-24 object-cover rounded border"},null,8,Ye)])):v("",!0),a("input",{type:"file",onChange:W,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),s(m).errors.image?(d(),r("div",ze,l(s(m).errors.image),1)):v("",!0),a("div",qe,l(t.value.keep_current_image||"Leave empty to keep the current image"),1),B.value?(d(),r("div",Ke,[a("p",Ge,l(t.value.new_image_preview||"New Image Preview")+":",1),a("img",{src:B.value,alt:"New Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,He)])):v("",!0)]),a("div",Je,[i(f,{type:"default",onClick:e[10]||(e[10]=n=>h.value=!1)},{default:u(()=>[p(l(t.value.cancel||"Cancel"),1)]),_:1}),i(f,{type:"primary","html-type":"submit",class:"ml-2"},{default:u(()=>[p(l(t.value.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"]),i(U,{open:C.value,"onUpdate:open":e[14]||(e[14]=n=>C.value=n),title:t.value.preview||"Image Preview",onCancel:e[15]||(e[15]=n=>C.value=!1),footer:null,width:"600px"},{default:u(()=>[a("div",Qe,[a("img",{src:P.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,We)])]),_:1},8,["open","title"])]),_:1})],64)}}});export{tt as default};
