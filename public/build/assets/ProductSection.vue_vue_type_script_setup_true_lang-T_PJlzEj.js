import{d as B,c as N,a as v,o as _,e as o,u as r,S as T,W as P,n as j,p as y,r as D,b as t,f as S,q as F,w as s,g as w,t as c,F as q,v as E,R as L,P as R,K as C,L as H,T as I,s as K}from"./app-l6L_BYV4.js";import{_ as O}from"./useFlashMessages-B27rhC-k.js";import{S as W}from"./ShoppingCartOutlined-CL_WvE9B.js";import{H as M}from"./UserLayout.vue_vue_type_script_setup_true_lang-2rfySfmY.js";const U={class:"text-center mt-8 sm:mt-12"},G=B({__name:"PaginationComponent",props:{paginationData:{},routeName:{}},setup(b){const a=b,d=N(()=>{var n,g,m,u,f,h;return{current_page:((n=a.paginationData)==null?void 0:n.current_page)||1,last_page:((g=a.paginationData)==null?void 0:g.last_page)||1,total:((m=a.paginationData)==null?void 0:m.total)||0,per_page:((u=a.paginationData)==null?void 0:u.per_page)||5,from:((f=a.paginationData)==null?void 0:f.from)||1,to:((h=a.paginationData)==null?void 0:h.to)||0}}),p=n=>{console.log("Navigating to page:",n),P.visit(route(a.routeName,{page:n}),{preserveState:!1,preserveScroll:!0})};return(n,g)=>(_(),v("div",U,[o(r(T),{current:d.value.current_page,total:d.value.total,"page-size":d.value.per_page,"show-total":(m,u)=>`${u[0]}-${u[1]} of ${m} items`,onChange:p,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),J=O(G,[["__scopeId","data-v-304d6a84"]]),Q={class:"py-14"},X={class:"container mx-auto px-2 sm:px-4"},Y={class:"text-center mb-8 sm:mb-12"},Z={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},tt={class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},et={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},at=["src","alt"],st={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},ot={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},rt={class:"flex justify-between items-center"},nt={class:"flex flex-wrap"},lt={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},it={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},ct={key:1,class:"text-center mt-8 sm:mt-12"},_t=B({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showPagination:{type:Boolean}},setup(b){var k;const a=b,d=j(),p=N(()=>{var e;return((e=d.props.translations)==null?void 0:e.products)||{}}),n=y(!1),g=()=>{n.value=!0},m=()=>{n.value=!1},u=y(((k=d.props.products)==null?void 0:k.data)||[]),f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(e),h=e=>{P.visit(route("product.detail",{slug:e}))},x=y(new Set),$=e=>{x.value.add(e.id),P.post(route("cart.add"),{id:e.id,qty:1},{preserveScroll:!0,onSuccess:()=>{x.value.delete(e.id)},onError:i=>{x.value.delete(e.id),console.error("Failed to add to cart",i)}})};return(e,i)=>{const A=D("a-button"),V=D("a-drawer");return _(),v("section",Q,[t("div",X,[t("div",null,[o(A,{size:"large",onClick:g},{default:s(()=>i[0]||(i[0]=[w(" Show Filter ")])),_:1}),o(V,{title:"Filter Products",placement:"left",open:n.value,onClose:m},{default:s(()=>i[1]||(i[1]=[t("div",null,[t("p",null,"Filter options go here.")],-1)])),_:1},8,["open"])]),t("div",Y,[t("h2",Z,c(a.title||p.value.title||"Product List"),1),t("p",tt,c(a.subtitle||p.value.subtitle||"Explore our wide range of high-quality products tailored to your needs."),1)]),o(r(L),{gutter:[16,16]},{default:s(()=>[(_(!0),v(q,null,E(u.value,l=>(_(),S(r(H),{xs:12,sm:12,md:8,lg:8,xl:6,key:l.id,class:"mb-6"},{default:s(()=>[o(r(I),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:z=>h(l.slug)},{cover:s(()=>[t("div",et,[t("img",{src:"/storage/"+l.thumnail_img,alt:l.name,class:"w-full h-full object-cover"},null,8,at),t("div",st,c(l.category_name),1),o(r(C),{type:"primary",shape:"circle",size:"small",class:"flex items-center justify-center bg-danger hover:!bg-pink-700 !w-6 !h-6 absolute top-7 right-1 bg-white","aria-label":"Add to favorites"},{icon:s(()=>[o(r(M))]),_:1})])]),default:s(()=>[t("div",null,[t("h3",ot,c(l.name),1),t("div",rt,[t("div",nt,[t("span",lt,c(f(l.final_price)),1),t("span",it,c(f(l.sale_price)),1)])]),o(r(C),{type:"primary",class:"btn-primary flex items-center justify-center mt-2",loading:x.value.has(l.id),onClick:K(z=>$(l),["stop"]),"aria-label":"Add to cart"},{icon:s(()=>[o(r(W))]),default:s(()=>[w(" "+c(p.value.add_to_cart||"Add to Cart"),1)]),_:2},1032,["loading","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),a.showPagination!==!1?(_(),S(J,{key:0,"pagination-data":r(d).props.products,"route-name":"all.products"},null,8,["pagination-data"])):F("",!0),a.showAllProductsButton===!0?(_(),v("div",ct,[o(r(C),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:s(()=>[o(r(R),{href:e.route("all.products")},{default:s(()=>[w(c(p.value.all_products||"All Products"),1),i[2]||(i[2]=t("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):F("",!0)])])}}});export{_t as _};
