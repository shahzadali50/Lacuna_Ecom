import{e as t,I as A,d as z,c as $,a as f,o as m,u as s,U as E,W as S,p as C,y as U,V as W,r as O,b as a,w as o,g as x,K as b,P as B,X as L,Y as I,F as D,v as M,Z as K,t as _,n as q,f as F,q as k,R,i as X,L as Y,_ as Z,s as G}from"./app-C3cv932K.js";import{_ as J}from"./useFlashMessages-b8Ba9dgn.js";import{F as j}from"./FilterOutlined-xajPvmqd.js";import{S as Q}from"./ShoppingCartOutlined-D6CVJF7g.js";import{H as ee}from"./UserLayout.vue_vue_type_script_setup_true_lang-_HrKvaZR.js";var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function N(d){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},c=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(l).filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable}))),c.forEach(function(n){ae(d,n,l[n])})}return d}function ae(d,e,l){return e in d?Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[e]=l,d}var V=function(e,l){var c=N({},e,l.attrs);return t(A,N({},c,{icon:te}),null)};V.displayName="ClearOutlined";V.inheritAttrs=!1;const se={class:"text-center mt-8 sm:mt-12"},re=z({__name:"PaginationComponent",props:{paginationData:{},routeName:{}},setup(d){const e=d,l=$(()=>{var n,h,g,u,w,r;return{current_page:((n=e.paginationData)==null?void 0:n.current_page)||1,last_page:((h=e.paginationData)==null?void 0:h.last_page)||1,total:((g=e.paginationData)==null?void 0:g.total)||0,per_page:((u=e.paginationData)==null?void 0:u.per_page)||5,from:((w=e.paginationData)==null?void 0:w.from)||1,to:((r=e.paginationData)==null?void 0:r.to)||0}}),c=n=>{console.log("Navigating to page:",n),S.visit(route(e.routeName,{page:n}),{preserveState:!1,preserveScroll:!0})};return(n,h)=>(m(),f("div",se,[t(s(E),{current:l.value.current_page,total:l.value.total,"page-size":l.value.per_page,"show-total":(g,u)=>`${u[0]}-${u[1]} of ${g} items`,onChange:c,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),le=J(re,[["__scopeId","data-v-304d6a84"]]),oe={class:"flex item-center"},ne={class:"flex items-end gap-2 my-4"},ie={class:""},ce={class:""},ue={class:""},de=["onClick"],pe={class:"mb-0"},me=z({__name:"FilterProduct",props:{categories:{},selectedCategory:{}},setup(d){const e=d,l=C(!1),c=()=>{l.value=!0},n=()=>{l.value=!1},h=C(["1"]),g=C(null),u=C(null),w=p=>{S.get(route("all.products"),{category:p,min_price:g.value,max_price:u.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{n()}})},r=()=>{S.get(route("all.products"),{category:e.selectedCategory,min_price:g.value,max_price:u.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{n()}})},y=C(500),P=()=>{y.value=window.innerWidth<=576?280:380};return U(()=>{P(),window.addEventListener("resize",P)}),W(()=>{window.removeEventListener("resize",P)}),(p,i)=>{const H=O("a-input"),T=O("a-drawer");return m(),f("div",null,[a("div",oe,[t(s(b),{type:"text",class:"flex items-center",size:"large",onClick:c},{default:o(()=>[t(s(j)),i[3]||(i[3]=x("Filter "))]),_:1}),t(s(b),{size:"large",type:"text"},{default:o(()=>[t(s(B),{href:p.route("all.products"),class:"flex items-center"},{default:o(()=>[t(s(V)),i[4]||(i[4]=x("Clear Filters "))]),_:1},8,["href"])]),_:1})]),t(T,{title:"Filter Products",placement:"left",open:l.value,onClose:n,width:y.value},{default:o(()=>[a("div",null,[a("div",null,[a("div",ne,[a("div",ie,[i[5]||(i[5]=a("label",{class:"block text-xs mb-1"},"Min Price",-1)),t(H,{type:"number",placeholder:"Min price",min:"0",value:g.value,"onUpdate:value":i[0]||(i[0]=v=>g.value=v)},null,8,["value"])]),a("div",ce,[i[6]||(i[6]=a("label",{class:"block text-xs mb-1"},"Max Price",-1)),t(H,{type:"number",placeholder:"Max price",min:"0",value:u.value,"onUpdate:value":i[1]||(i[1]=v=>u.value=v)},null,8,["value"])]),a("div",ue,[t(s(b),{type:"dashed",onClick:r},{default:o(()=>[t(s(j)),i[7]||(i[7]=x(" Filter "))]),_:1})])])]),t(s(L),{activeKey:h.value,"onUpdate:activeKey":i[2]||(i[2]=v=>h.value=v),bordered:!1},{default:o(()=>[t(s(I),{key:"1",header:"Filter by Category"},{default:o(()=>[(m(!0),f(D,null,M(e.categories,v=>(m(),f("div",{key:v.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:Be=>w(v.slug)},[t(s(K),{checked:e.selectedCategory===v.slug},{default:o(()=>[x(_(v.name),1)]),_:2},1032,["checked"]),a("p",pe,_(v.product_count)+" Products ",1)],8,de))),128))]),_:1})]),_:1},8,["activeKey"])])]),_:1},8,["open","width"])])}}}),ge={class:"container mx-auto"},ve={class:"container mx-auto px-2 sm:px-4"},fe={class:"text-center mb-8 sm:mb-12"},_e={key:0,class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},he={key:1,class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},ye={key:0},xe={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},be=["src","alt"],we={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},Ce={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},Pe={class:"flex justify-between items-center"},ke={class:"flex flex-wrap"},Se={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},Fe={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},$e={key:1,class:"text-center mt-8 sm:mt-12"},Oe={key:1},Ne=z({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showFilter:{type:Boolean},showPagination:{type:Boolean},categories:{},selectedCategory:{},showTitle:{type:Boolean},showSubTitle:{type:Boolean},sectionClass:{}},setup(d){const e=d,l=q(),c=$(()=>{var r;return((r=l.props.translations)==null?void 0:r.products)||{}}),n=$(()=>{var r;return((r=l.props.products)==null?void 0:r.data)||[]}),h=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(r),g=r=>{S.visit(route("product.detail",{slug:r}))},u=C(new Set),w=r=>{u.value.add(r.id),S.post(route("cart.add"),{id:r.id,qty:1},{preserveScroll:!0,onSuccess:()=>{u.value.delete(r.id)},onError:y=>{u.value.delete(r.id),console.error("Failed to add to cart",y)}})};return(r,y)=>{const P=O("a-result");return m(),f(D,null,[a("section",null,[a("div",ge,[e.showFilter===!0?(m(),F(me,{key:0,categories:e.categories,selectedCategory:e.selectedCategory,translations:c.value},null,8,["categories","selectedCategory","translations"])):k("",!0)])]),a("section",{class:X(["",e.sectionClass])},[a("div",ve,[a("div",fe,[e.showTitle!==!1?(m(),f("h2",_e,_(e.title||c.value.title||"Product List"),1)):k("",!0),e.showSubTitle!==!1?(m(),f("p",he,_(e.subtitle||c.value.subtitle||"Explore our wide range of high-quality products tailored to your needs."),1)):k("",!0)]),n.value.length>0?(m(),f("div",ye,[t(s(R),{gutter:[16,16]},{default:o(()=>[(m(!0),f(D,null,M(n.value,p=>(m(),F(s(Y),{xs:12,sm:12,md:8,lg:8,xl:6,key:p.id,class:"mb-6"},{default:o(()=>[t(s(Z),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:i=>g(p.slug)},{cover:o(()=>[a("div",xe,[a("img",{src:"/storage/"+p.thumnail_img,alt:p.name,class:"w-full h-full object-cover"},null,8,be),a("div",we,_(p.category_name),1),t(s(b),{type:"primary",shape:"circle",size:"small",class:"flex items-center justify-center bg-danger hover:!bg-pink-700 !w-6 !h-6 absolute top-7 right-1 bg-white","aria-label":"Add to favorites"},{icon:o(()=>[t(s(ee))]),_:1})])]),default:o(()=>[a("div",null,[a("h3",Ce,_(p.name),1),a("div",Pe,[a("div",ke,[a("span",Se,_(h(p.final_price)),1),a("span",Fe,_(h(p.sale_price)),1)])]),t(s(b),{type:"primary",class:"btn-primary flex items-center justify-center mt-2",loading:u.value.has(p.id),onClick:G(i=>w(p),["stop"]),"aria-label":"Add to cart"},{icon:o(()=>[t(s(Q))]),default:o(()=>[x(" "+_(c.value.add_to_cart||"Add to Cart"),1)]),_:2},1032,["loading","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e.showPagination!==!1?(m(),F(le,{key:0,"pagination-data":s(l).props.products,"route-name":"all.products"},null,8,["pagination-data"])):k("",!0),e.showAllProductsButton===!0?(m(),f("div",$e,[t(s(b),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:o(()=>[t(s(B),{href:r.route("all.products")},{default:o(()=>[x(_(c.value.all_products||"All Products"),1),y[0]||(y[0]=a("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):k("",!0)])):(m(),f("div",Oe,[t(P,{status:"404",title:"404","sub-title":"We couldnâ€™t find any products matching your search."},{extra:o(()=>[t(s(b),{class:"btn-primary",size:"large",type:"primary"},{default:o(()=>[t(s(B),{href:r.route("all.products")},{default:o(()=>y[1]||(y[1]=[x(" Continue Shopping ")])),_:1},8,["href"])]),_:1})]),_:1})]))])],2)],64)}}});export{Ne as _};
