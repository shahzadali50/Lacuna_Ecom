import{e as a,I as A,d as V,c as O,a as v,o as p,u as r,at as W,W as F,p as C,y as E,ab as I,r as B,b as s,w as n,g as y,aq as x,P as D,au as U,av as q,F as z,v as T,aw as L,t as _,n as K,f as $,q as S,ar as R,i as G,as as J,ax as Q,s as X}from"./app-C4B6CvrJ.js";import{_ as Y}from"./useFlashMessages-DYZsmvOp.js";import{F as j}from"./FilterOutlined-CTQs8A8w.js";import{S as Z}from"./ShoppingCartOutlined-C7N_QsSJ.js";import{H as ee}from"./UserLayout.vue_vue_type_script_setup_true_lang-CT6vuiHT.js";var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function N(d){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},c=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(l).filter(function(i){return Object.getOwnPropertyDescriptor(l,i).enumerable}))),c.forEach(function(i){ae(d,i,l[i])})}return d}function ae(d,e,l){return e in d?Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[e]=l,d}var H=function(e,l){var c=N({},e,l.attrs);return a(A,N({},c,{icon:te}),null)};H.displayName="ClearOutlined";H.inheritAttrs=!1;const se={class:"text-center mt-8 sm:mt-12"},re=V({__name:"PaginationComponent",props:{paginationData:{},routeName:{}},setup(d){const e=d,l=O(()=>{var i,h,m,u,b,w;return{current_page:((i=e.paginationData)==null?void 0:i.current_page)||1,last_page:((h=e.paginationData)==null?void 0:h.last_page)||1,total:((m=e.paginationData)==null?void 0:m.total)||0,per_page:((u=e.paginationData)==null?void 0:u.per_page)||5,from:((b=e.paginationData)==null?void 0:b.from)||1,to:((w=e.paginationData)==null?void 0:w.to)||0}}),c=i=>{console.log("Navigating to page:",i),F.visit(route(e.routeName,{page:i}),{preserveState:!1,preserveScroll:!0})};return(i,h)=>(p(),v("div",se,[a(r(W),{current:l.value.current_page,total:l.value.total,"page-size":l.value.per_page,"show-total":(m,u)=>`${u[0]}-${u[1]} of ${m} items`,onChange:c,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),le=Y(re,[["__scopeId","data-v-304d6a84"]]),oe={class:"flex item-center"},ne={class:"flex items-end gap-2 my-4"},ie={class:""},ce={class:""},ue={class:""},de=["onClick"],pe={class:"mb-0"},me=V({__name:"FilterProduct",props:{categories:{},selectedCategory:{}},setup(d){const e=d,l=C(!1),c=()=>{l.value=!0},i=()=>{l.value=!1},h=C(["1"]),m=C(null),u=C(null),b=P=>{F.get(route("all.products"),{category:P,min_price:m.value,max_price:u.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},w=()=>{F.get(route("all.products"),{category:e.selectedCategory,min_price:m.value,max_price:u.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{i()}})},o=C(500),f=()=>{o.value=window.innerWidth<=576?280:380};return E(()=>{f(),window.addEventListener("resize",f)}),I(()=>{window.removeEventListener("resize",f)}),(P,t)=>{const k=B("a-input"),M=B("a-drawer");return p(),v("div",null,[s("div",oe,[a(r(x),{type:"text",class:"flex items-center",size:"large",onClick:c},{default:n(()=>[a(r(j)),t[3]||(t[3]=y("Filter "))]),_:1}),a(r(x),{size:"large",type:"text"},{default:n(()=>[a(r(D),{href:P.route("all.products"),class:"flex items-center"},{default:n(()=>[a(r(H)),t[4]||(t[4]=y("Clear Filters "))]),_:1},8,["href"])]),_:1})]),a(M,{title:"Filter Products",placement:"left",open:l.value,onClose:i,width:o.value},{default:n(()=>[s("div",null,[s("div",null,[s("div",ne,[s("div",ie,[t[5]||(t[5]=s("label",{class:"block text-xs mb-1"},"Min Price",-1)),a(k,{type:"number",placeholder:"Min price",min:"0",value:m.value,"onUpdate:value":t[0]||(t[0]=g=>m.value=g)},null,8,["value"])]),s("div",ce,[t[6]||(t[6]=s("label",{class:"block text-xs mb-1"},"Max Price",-1)),a(k,{type:"number",placeholder:"Max price",min:"0",value:u.value,"onUpdate:value":t[1]||(t[1]=g=>u.value=g)},null,8,["value"])]),s("div",ue,[a(r(x),{type:"dashed",onClick:w},{default:n(()=>[a(r(j)),t[7]||(t[7]=y(" Filter "))]),_:1})])])]),a(r(U),{activeKey:h.value,"onUpdate:activeKey":t[2]||(t[2]=g=>h.value=g),bordered:!1},{default:n(()=>[a(r(q),{key:"1",header:"Filter by Category"},{default:n(()=>[(p(!0),v(z,null,T(e.categories,g=>(p(),v("div",{key:g.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:Be=>b(g.slug)},[a(r(L),{checked:e.selectedCategory===g.slug},{default:n(()=>[y(_(g.name),1)]),_:2},1032,["checked"]),s("p",pe,_(g.product_count)+" Products ",1)],8,de))),128))]),_:1})]),_:1},8,["activeKey"])])]),_:1},8,["open","width"])])}}}),ge={class:"container mx-auto"},ve={class:"container mx-auto px-2 sm:px-4"},fe={class:"text-center mb-8 sm:mb-12"},_e={key:0,class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},he={key:1,class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},ye={key:0},xe={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},be=["src","alt"],we={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},Ce={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},Pe={class:"flex justify-between items-center"},ke={class:"flex flex-wrap"},Se={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},Fe={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},$e={key:1,class:"text-center mt-8 sm:mt-12"},Oe={key:1},Ne=V({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showFilter:{type:Boolean},showPagination:{type:Boolean},categories:{},selectedCategory:{},showTitle:{type:Boolean},showSubTitle:{type:Boolean},sectionClass:{}},setup(d){const e=d,l=K(),c=O(()=>{var o;return((o=l.props.translations)==null?void 0:o.products)||{}}),i=O(()=>{var o;return((o=l.props.products)==null?void 0:o.data)||[]}),h=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(o),m=o=>{F.visit(route("product.detail",{slug:o}))},u=C(new Set),b=o=>{u.value.add(o.id),F.post(route("cart.add"),{id:o.id,qty:1},{preserveScroll:!0,onSuccess:()=>{u.value.delete(o.id)},onError:f=>{u.value.delete(o.id),console.error("Failed to add to cart",f)}})},w=o=>{};return(o,f)=>{const P=B("a-result");return p(),v(z,null,[s("section",null,[s("div",ge,[e.showFilter===!0?(p(),$(me,{key:0,categories:e.categories,selectedCategory:e.selectedCategory,translations:c.value},null,8,["categories","selectedCategory","translations"])):S("",!0)])]),s("section",{class:G(["",e.sectionClass])},[s("div",ve,[s("div",fe,[e.showTitle!==!1?(p(),v("h2",_e,_(e.title||c.value.title||"Product List"),1)):S("",!0),e.showSubTitle!==!1?(p(),v("p",he,_(e.subtitle||c.value.subtitle||"Explore our wide range of high-quality products tailored to your needs."),1)):S("",!0)]),i.value.length>0?(p(),v("div",ye,[a(r(R),{gutter:[16,16]},{default:n(()=>[(p(!0),v(z,null,T(i.value,t=>(p(),$(r(J),{xs:12,sm:12,md:8,lg:8,xl:6,key:t.id,class:"mb-6"},{default:n(()=>[a(r(Q),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:k=>m(t.slug)},{cover:n(()=>[s("div",xe,[s("img",{src:"/storage/"+t.thumnail_img,alt:t.name,class:"w-full h-full object-cover"},null,8,be),s("div",we,_(t.category_name),1),a(r(x),{onClick:k=>w(t.id),type:"primary",shape:"circle",size:"small",class:"flex items-center justify-center bg-danger hover:!bg-pink-700 !w-6 !h-6 absolute top-7 right-1 bg-white","aria-label":"Add to favorites"},{icon:n(()=>[a(r(ee))]),_:2},1032,["onClick"])])]),default:n(()=>[s("div",null,[s("h3",Ce,_(t.name),1),s("div",Pe,[s("div",ke,[s("span",Se,_(h(t.final_price)),1),s("span",Fe,_(h(t.sale_price)),1)])]),a(r(x),{type:"primary",class:"btn-primary flex items-center justify-center mt-2",loading:u.value.has(t.id),onClick:X(k=>b(t),["stop"]),"aria-label":"Add to cart"},{icon:n(()=>[a(r(Z))]),default:n(()=>[y(" "+_(c.value.add_to_cart||"Add to Cart"),1)]),_:2},1032,["loading","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e.showPagination!==!1?(p(),$(le,{key:0,"pagination-data":r(l).props.products,"route-name":"all.products"},null,8,["pagination-data"])):S("",!0),e.showAllProductsButton===!0?(p(),v("div",$e,[a(r(x),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:n(()=>[a(r(D),{href:o.route("all.products")},{default:n(()=>[y(_(c.value.all_products||"All Products"),1),f[0]||(f[0]=s("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):S("",!0)])):(p(),v("div",Oe,[a(P,{status:"404",title:"404","sub-title":"We couldnâ€™t find any products matching your search."},{extra:n(()=>[a(r(x),{class:"btn-primary",size:"large",type:"primary"},{default:n(()=>[a(r(D),{href:o.route("all.products")},{default:n(()=>f[1]||(f[1]=[y(" Continue Shopping ")])),_:1},8,["href"])]),_:1})]),_:1})]))])],2)],64)}}});export{Ne as _};
