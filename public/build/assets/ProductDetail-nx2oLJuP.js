import{e as r,I as N,d as R,n as L,c as O,p as w,f as j,o as u,w as i,b as e,u as o,m as Q,P as z,g as C,t as a,av as $,aw as v,aF as U,aE as G,a as h,F as J,v as X,i as S,q as A,aH as M,a1 as Y,an as Z,aI as K,W}from"./app-BDtFrrOJ.js";import{H as ee,_ as te}from"./UserLayout.vue_vue_type_script_setup_true_lang-8MFKJylZ.js";import{_ as se}from"./LoginModal.vue_vue_type_script_setup_true_lang-A_N1ew5D.js";import{C as oe,S as re}from"./SafetyCertificateOutlined-CjhzbhDF.js";import{S as ae}from"./ShoppingCartOutlined-CMC-1WAv.js";import"./useFlashMessages-B-VLKhyN.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-BWZbIPhW.js";import"./Button.vue_vue_type_script_setup_true_lang-EhkVqIrz.js";import"./Label.vue_vue_type_script_setup_true_lang-1b5fUe9K.js";import"./TextLink.vue_vue_type_script_setup_true_lang-CIv2a0lI.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BkWNT5hp.js";import"./createLucideIcon-nQhCLoHx.js";import"./loader-circle-DfYmUdr_.js";var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};function B(d){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?Object(arguments[l]):{},p=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(s).filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable}))),p.forEach(function(c){ne(d,c,s[c])})}return d}function ne(d,l,s){return l in d?Object.defineProperty(d,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):d[l]=s,d}var I=function(l,s){var p=B({},l,s.attrs);return r(N,B({},p,{icon:le}),null)};I.displayName="MinusOutlined";I.inheritAttrs=!1;const ie={class:"pb-7"},de={class:"container mx-auto px-4"},ue={class:"flex flex-wrap items-center text-sm text-gray-500"},ce={class:"text-gray-700"},me={class:"container mx-auto px-4"},pe={class:"relative"},fe={class:"aspect-square rounded-lg overflow-hidden bg-gray-100"},ve=["src","alt"],he={class:"flex mt-4 space-x-2 overflow-x-auto"},be=["onClick"],_e=["src","alt"],ge={class:"h-full"},ye={class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},xe={class:"mb-6"},we={class:"flex items-center"},ke={class:"text-3xl font-bold text-gray-900"},Oe={key:0,class:"ml-3 text-lg text-gray-500 line-through"},Ce={key:1,class:"ml-3 bg-red-100 text-red-600 px-2 py-1 rounded text-sm font-medium"},Se={class:"mb-6"},Pe={class:"flex items-center"},je={class:"text-gray-700"},$e={key:0,class:"text-gray-500"},Ae={class:"flex items-center p-3 bg-gray-100 rounded-lg"},Ie={class:"text-sm"},Me={class:"flex items-center p-3 bg-gray-100 rounded-lg"},We={class:"text-sm"},Be={class:"flex items-center p-3 bg-gray-100 rounded-lg"},Te={class:"text-sm"},Ve={class:"mb-6"},qe={class:"block text-sm font-medium text-gray-700 mb-2"},De={class:"flex items-center"},Ee=["max"],Fe=["disabled"],He={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},Ne=["disabled"],Re={key:0,class:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin mr-2"},Le={class:"mt-12"},Qe={class:"border-b border-gray-200"},ze={class:"flex -mb-px"},Ue={class:"py-4 px-6 border-b-2 border-primary font-medium text-primary"},Ge={class:"py-6 prose max-w-none"},dt=R({__name:"ProductDetail",props:{product:{}},setup(d){const l=L(),s=O(()=>{var t;return((t=l.props.translations)==null?void 0:t.products)||{}}),p=O(()=>{var t;return(t=l.props.auth)==null?void 0:t.user}),c=w(!1),g=w(!1),T=O(()=>l.props.wishlist||[]),P=t=>T.value.includes(t),V=t=>{p.value?(g.value=!0,W.post(route("wishlist.add"),{product_id:t},{preserveScroll:!0,onSuccess:()=>{g.value=!1},onError:()=>{g.value=!1}})):c.value=!0},y=d,f=w(1),m=w(0),b=O(()=>{const t=[...y.product.gallery_images||[]];return y.product.thumbnail_image&&t.unshift(`/storage/${y.product.thumbnail_image}`),t}),q=()=>{b.value.length>0&&(m.value=(m.value+1)%b.value.length)},D=()=>{b.value.length>0&&(m.value=m.value===0?b.value.length-1:m.value-1)},E=()=>{f.value<y.product.stock&&f.value++},F=()=>{f.value>1&&f.value--},x=w(!1),H=()=>{x.value=!0,W.post(route("cart.add"),{id:y.product.id,qty:f.value},{preserveScroll:!0,onSuccess:()=>{x.value=!1,console.log("Added to cart")},onError:t=>{x.value=!1,console.error("Failed to add to cart",t)}})};return(t,n)=>(u(),j(te,null,{default:i(()=>[r(o(Q),{title:t.product.name},null,8,["title"]),e("section",ie,[e("div",de,[e("div",ue,[r(o(z),{href:t.route("home"),class:"hover:text-primary"},{default:i(()=>[C(a(s.value.home||"Home"),1)]),_:1},8,["href"]),n[3]||(n[3]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(s.value.products||"Products"),1),n[4]||(n[4]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(t.product.category_name),1),n[5]||(n[5]=e("span",{class:"mx-2"},"/",-1)),e("span",ce,a(t.product.name),1)])])]),e("section",null,[e("div",me,[r(o($),{gutter:[32,32]},{default:i(()=>[r(o(v),{xs:24,lg:12},{default:i(()=>[e("div",pe,[e("div",fe,[e("img",{src:b.value[m.value],alt:t.product.name,class:"w-full h-full object-cover"},null,8,ve)]),e("button",{onClick:D,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[r(o(U))]),e("button",{onClick:q,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[r(o(G))]),e("div",he,[(u(!0),h(J,null,X(b.value,(_,k)=>(u(),h("div",{key:k,onClick:Je=>m.value=k,class:S(["w-16 h-16 rounded-md overflow-hidden cursor-pointer border-2 transition-all duration-200 hover:opacity-80",m.value===k?"border-primary":"border-transparent"])},[e("img",{src:_,alt:`${t.product.name} - ${k+1}`,class:"w-full h-full object-cover"},null,8,_e)],10,be))),128))])])]),_:1}),r(o(v),{xs:24,lg:12},{default:i(()=>[e("div",ge,[e("h1",ye,a(t.product.name),1),e("div",xe,[e("div",we,[e("span",ke,"$"+a(t.product.final_price),1),t.product.sale_price?(u(),h("span",Oe,"$"+a(t.product.sale_price),1)):A("",!0),t.product.discount?(u(),h("span",Ce," -"+a(t.product.discount)+"% ",1)):A("",!0)])]),e("div",Se,[e("div",Pe,[r(o(M),{class:S(t.product.stock>0?"text-green-500 mr-2":"text-red-500 mr-2")},null,8,["class"]),e("span",je,[C(a(t.product.stock>0?s.value.in_stock||"In Stock":s.value.out_of_stock||"Out of Stock")+" ",1),t.product.stock>0?(u(),h("span",$e,"("+a(t.product.stock)+" "+a(s.value.available||"Available")+")",1)):A("",!0)])])]),r(o($),{gutter:[16,16],class:"mb-6"},{default:i(()=>[r(o(v),{xs:24,sm:8},{default:i(()=>[e("div",Ae,[r(o(oe),{class:"text-primary text-xl mr-2"}),e("span",Ie,a(s.value.free_shipping||"Free Shipping"),1)])]),_:1}),r(o(v),{xs:24,sm:8},{default:i(()=>[e("div",Me,[r(o(re),{class:"text-primary text-xl mr-2"}),e("span",We,a(s.value.secure||"Secure Payment"),1)])]),_:1}),r(o(v),{xs:24,sm:8},{default:i(()=>[e("div",Be,[r(o(M),{class:"text-primary text-xl mr-2"}),e("span",Te,a(s.value.money_back||"Money Back"),1)])]),_:1})]),_:1}),e("div",Ve,[e("label",qe,a(s.value.quantity||"Quantity"),1),e("div",De,[e("button",{onClick:F,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l-md hover:bg-gray-100"},[r(o(I))]),Y(e("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=_=>f.value=_),min:"1",max:t.product.stock,class:"w-16 h-10 text-center border-t border-b border-gray-300 focus:outline-none"},null,8,Ee),[[Z,f.value]]),e("button",{onClick:E,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r-md hover:bg-gray-100"},[r(o(K))])])]),r(o($),{gutter:[16,16],class:"mb-6"},{default:i(()=>[r(o(v),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:H,disabled:t.product.stock===0||x.value,class:"w-full bg-primary text-white py-3 px-6 rounded-md font-medium hover:bg-primary-dark transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-primary"},[x.value?(u(),h("div",He)):(u(),j(o(ae),{key:1,class:"mr-2"})),C(" "+a(t.product.stock===0?s.value.out_of_stock||"Out of Stock":s.value.add_to_cart||"Add to Cart"),1)],8,Fe)]),_:1}),r(o(v),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:n[1]||(n[1]=_=>V(t.product.id)),disabled:g.value,class:S(["w-full border py-3 px-6 rounded-md font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",P(t.product.id)?"border-red-500 bg-red-500 text-white hover:bg-red-600":"border-gray-300 hover:bg-gray-50"])},[g.value?(u(),h("div",Re)):(u(),j(o(ee),{key:1,class:S([P(t.product.id)?"text-white":"text-gray-600","mr-2"])},null,8,["class"])),C(" "+a(P(t.product.id)?s.value.remove_from_wishlist||"Remove from Wishlist":s.value.add_to_wishlist||"Add to Wishlist"),1)],10,Ne)]),_:1})]),_:1})])]),_:1})]),_:1}),e("div",Le,[e("div",Qe,[e("nav",ze,[e("button",Ue,a(s.value.description||"Description"),1)])]),e("div",Ge,[e("p",null,a(t.product.description),1)])])])]),r(se,{open:c.value,"onUpdate:open":n[2]||(n[2]=_=>c.value=_),canResetPassword:!1},null,8,["open"])]),_:1}))}});export{dt as default};
